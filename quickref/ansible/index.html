<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ansible 备忘清单 | 扎西记录的内容</title>
    <meta name="description" content="学海无涯苦作舟">
    <link rel="preload stylesheet" href="/MyBlog/assets/style.02e1a410.css" as="style">
    <link rel="modulepreload" href="/MyBlog/assets/app.0fdc3d94.js">
    <link rel="modulepreload" href="/MyBlog/assets/quickref_ansible_index.md.6c2afd5d.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-93a960b4><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-93a960b4 data-v-0fa0e57d><div class="VPNavBar has-sidebar" data-v-0fa0e57d data-v-be450ad9><div class="container" data-v-be450ad9><div class="title" data-v-be450ad9><div class="VPNavBarTitle has-sidebar" data-v-be450ad9 data-v-6d2fb2d9><a class="title" href="/MyBlog/" data-v-6d2fb2d9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/MyBlog/log.png" alt data-v-6db2186b><!--]--><!--[-->扎西记录的内容<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-be450ad9><div class="curtain" data-v-be450ad9></div><div class="content-body" data-v-be450ad9><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-be450ad9 data-v-bdedfc22><span id="main-nav-aria-label" class="visually-hidden" data-v-bdedfc22>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> 快速参考 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/quickref/es6/" data-v-88f937c6 data-v-a8b5c975><!--[-->ES6<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/quickref/docker/" data-v-88f937c6 data-v-a8b5c975><!--[-->Docker<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/quickref/linuxcommand/" data-v-88f937c6 data-v-a8b5c975><!--[-->Linux命令<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link active" href="/MyBlog/quickref/ansible/" data-v-88f937c6 data-v-a8b5c975><!--[-->Ansible<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> 运维相关 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/basicalkn/" data-v-88f937c6 data-v-a8b5c975><!--[-->名词解释<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/server/" data-v-88f937c6 data-v-a8b5c975><!--[-->服务侧运维<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/network/" data-v-88f937c6 data-v-a8b5c975><!--[-->网络侧运维<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/sql/" data-v-88f937c6 data-v-a8b5c975><!--[-->数据库运维<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/windows/" data-v-88f937c6 data-v-a8b5c975><!--[-->Windows<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/anquan/" data-v-88f937c6 data-v-a8b5c975><!--[-->安全运维<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/other/" data-v-88f937c6 data-v-a8b5c975><!--[-->其他方面<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> 学习内容 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/study/vitepress/" data-v-88f937c6 data-v-a8b5c975><!--[-->Vitepress<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/study/mathematics/" data-v-88f937c6 data-v-a8b5c975><!--[-->Mathematics<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="https://notes.fe-mm.com/nav" target="_blank" rel="noreferrer" data-v-88f937c6 data-v-a8b5c975><!--[-->学习目标<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-a8b5c975><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/study/qanda/" data-v-88f937c6 data-v-a8b5c975><!--[-->一问一答<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/study/mianshi/" data-v-88f937c6 data-v-a8b5c975><!--[-->mianshi <!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> 日常记录 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/workrecord/linux/" data-v-88f937c6 data-v-a8b5c975><!--[-->Linux相关<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/workrecord/mysql/" data-v-88f937c6 data-v-a8b5c975><!--[-->MySQL相关<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/network/" data-v-88f937c6 data-v-a8b5c975><!--[-->网络侧运维<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/yunwei/sql/" data-v-88f937c6 data-v-a8b5c975><!--[-->数据库运维<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/MyBlog/guide/" data-v-bdedfc22 data-v-f2ec7ecf data-v-a8b5c975><!--[-->Guide<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-bdedfc22 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-96001b6b><span class="text" data-v-96001b6b><!----> Develop相关 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-96001b6b><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/devm/java/spring/" data-v-88f937c6 data-v-a8b5c975><!--[-->Spring 方面<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/devm/java/tool/" data-v-88f937c6 data-v-a8b5c975><!--[-->工具和框架<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/devm/java/" data-v-88f937c6 data-v-a8b5c975><!--[-->Java<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/devm/java/jichu/" data-v-88f937c6 data-v-a8b5c975><!--[-->Java 语法<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/devm/design/" data-v-88f937c6 data-v-a8b5c975><!--[-->设计模式<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-88f937c6><a class="VPLink link" href="/MyBlog/devm/java/example/" data-v-88f937c6 data-v-a8b5c975><!--[-->练习例子<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-be450ad9 data-v-da3f667a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-da3f667a data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-be450ad9 data-v-2ab2a029 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://zhaxi-ch.github.io/MyBlog/" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-be450ad9 data-v-66bb1f24 data-v-96001b6b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-96001b6b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-96001b6b><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-96001b6b><div class="VPMenu" data-v-96001b6b data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-66bb1f24><div class="item appearance" data-v-66bb1f24><p class="label" data-v-66bb1f24>外观</p><div class="appearance-action" data-v-66bb1f24><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-66bb1f24 data-v-0d529b6d data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d529b6d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d529b6d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-66bb1f24><div class="item social-links" data-v-66bb1f24><div class="VPSocialLinks social-links-list" data-v-66bb1f24 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://zhaxi-ch.github.io/MyBlog/" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-be450ad9 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-93a960b4 data-v-2817d72e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2817d72e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-2817d72e><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-2817d72e>Menu</span></button><a class="top-link" href="#" data-v-2817d72e>返回顶部</a></div><aside class="VPSidebar" data-v-93a960b4 data-v-c79ccefa><div class="curtain" data-v-c79ccefa></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c79ccefa><span class="visually-hidden" id="sidebar-aria-label" data-v-c79ccefa> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0" data-v-c79ccefa data-v-983f6b21><!----><div class="items" data-v-983f6b21><!--[--><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/study/vitepress/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Vitepress</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/study/es6/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>es6</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/study/zhaxiblog/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>blog</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/study/zhaxiblog/gitpage/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>page</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/study/git/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>git相关</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/study/github/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>Github</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/personal/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>personal</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0" data-v-c79ccefa data-v-983f6b21><div class="item" role="button" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link" data-v-983f6b21 data-v-a8b5c975><!--[--><h2 class="text" data-v-983f6b21>运维相关</h2><!--]--><!----></a><!----></div><div class="items" data-v-983f6b21><!--[--><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/yunwei/basicalkn/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>名词解释</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/yunwei/server/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>服务运维</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/yunwei/network/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>网络运维</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c79ccefa><section class="VPSidebarItem level-0" data-v-c79ccefa data-v-983f6b21><div class="item" role="button" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link" data-v-983f6b21 data-v-a8b5c975><!--[--><h2 class="text" data-v-983f6b21>开发相关</h2><!--]--><!----></a><!----></div><div class="items" data-v-983f6b21><!--[--><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/devm/node/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>NodeJS</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-983f6b21 data-v-983f6b21><div class="item" data-v-983f6b21><div class="indicator" data-v-983f6b21></div><a class="VPLink link link" href="/MyBlog/devm/java/example/" data-v-983f6b21 data-v-a8b5c975><!--[--><p class="text" data-v-983f6b21>练习例子</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-93a960b4 data-v-0bd490fb><div class="VPDoc has-sidebar has-aside" data-v-0bd490fb data-v-c5936a1e><div class="container" data-v-c5936a1e><div class="aside" data-v-c5936a1e><div class="aside-curtain" data-v-c5936a1e></div><div class="aside-container" data-v-c5936a1e><div class="aside-content" data-v-c5936a1e><div class="VPDocAside" data-v-c5936a1e data-v-cdc66372><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-cdc66372 data-v-5dd9d5f6><div class="content" data-v-5dd9d5f6><div class="outline-marker" data-v-5dd9d5f6></div><div class="outline-title" data-v-5dd9d5f6>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-5dd9d5f6><span class="visually-hidden" id="doc-outline-aria-label" data-v-5dd9d5f6> Table of Contents for current page </span><ul class="root" data-v-5dd9d5f6 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cdc66372></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c5936a1e><div class="content-container" data-v-c5936a1e><!--[--><!--]--><main class="main" data-v-c5936a1e><div style="position:relative;" class="vp-doc _MyBlog_quickref_ansible_index" data-v-c5936a1e><div><h1 id="ansible-备忘清单" tabindex="-1">Ansible 备忘清单 <a class="header-anchor" href="#ansible-备忘清单" aria-hidden="true">#</a></h1><p>此快速参考备忘单提供了使用 <a href="https://ansible.com" target="_blank" rel="noreferrer">Ansible</a> 的各种方法。</p><h2 id="入门" tabindex="-1">入门 <a class="header-anchor" href="#入门" aria-hidden="true">#</a></h2><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">安装命令</th><th>环境</th></tr></thead><tbody><tr><td style="text-align:left;"><code>brew install ansible</code></td><td>macos</td></tr><tr><td style="text-align:left;"><code>yum install -y ansible</code></td><td>centos</td></tr><tr><td style="text-align:left;"><code>pip install ansible</code></td><td>python</td></tr></tbody></table><hr><ul><li><a href="https://docs.ansible.com" target="_blank" rel="noreferrer">Ansible 官方文档</a></li></ul><h3 id="配置位置" tabindex="-1">配置位置 <a class="header-anchor" href="#配置位置" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">文件路径</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>/etc/ansible/ansible.cfg</code></td><td>系统范围的配置</td></tr><tr><td style="text-align:left;"><code>~/ansible.cfg</code></td><td>用户特定的配置</td></tr><tr><td style="text-align:left;"><code>$pwd/ansible.cfg</code></td><td>当前目录下的配置</td></tr></tbody></table><p>配置文件优先级</p><ul><li>如果没有任何其他配置文件，默认使用 <code>/etc/ansible/ansible.cfg</code></li><li><code>~/.ansible.cfg</code> <code>家</code>目录下的 <code>.ansible.cfg</code></li><li>当前目录下的 <code>ansible.cfg</code>，即在同一目录下 <code>ansible.cfg</code> 优先级高于 <code>~/.ansible.cfg</code></li><li>环境变量 <code>exoport ANSIBLE_CONFIG=/$DIR/ansible.cfg</code></li></ul><p>查看正在使用的 <code>ansible</code> 配置文件：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">config file</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="inventory文件-hosts列表" tabindex="-1">Inventory文件(hosts列表) <a class="header-anchor" href="#inventory文件-hosts列表" aria-hidden="true">#</a></h3><h4 id="静态inventory" tabindex="-1">静态Inventory <a class="header-anchor" href="#静态inventory" aria-hidden="true">#</a></h4><p><code>/etc/ansible/hosts</code></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">mail.example.com</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[webservers]</span></span>
<span class="line"><span style="color:#A6ACCD;">foo.example.com</span></span>
<span class="line"><span style="color:#A6ACCD;">bar.example.com</span></span>
<span class="line"></span></code></pre></div><h3 id="inventory-主机组使用多个ip和域名" tabindex="-1">Inventory 主机组使用多个IP和域名 <a class="header-anchor" href="#inventory-主机组使用多个ip和域名" aria-hidden="true">#</a></h3><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[web]</span></span>
<span class="line"><span style="color:#A6ACCD;">172.18.12.5[1:4]</span></span>
<span class="line"><span style="color:#89DDFF;">[webservers]</span></span>
<span class="line"><span style="color:#A6ACCD;">www[01:50].example.com</span></span>
<span class="line"></span></code></pre></div><h3 id="inventory-主机组使用子主机组" tabindex="-1">Inventory 主机组使用子主机组 <a class="header-anchor" href="#inventory-主机组使用子主机组" aria-hidden="true">#</a></h3><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[usa:children]</span></span>
<span class="line"><span style="color:#A6ACCD;">southeast</span></span>
<span class="line"><span style="color:#A6ACCD;">northeast</span></span>
<span class="line"><span style="color:#A6ACCD;">southwest</span></span>
<span class="line"><span style="color:#A6ACCD;">northwest</span></span>
<span class="line"></span></code></pre></div><h3 id="给多台主机设置变量" tabindex="-1">给多台主机设置变量 <a class="header-anchor" href="#给多台主机设置变量" aria-hidden="true">#</a></h3><p><code>group variables</code> 如果组中的所有主机共享一个变量值，则可以一次将该变量应用于整个组</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[atlanta]</span></span>
<span class="line"><span style="color:#A6ACCD;">host1</span></span>
<span class="line"><span style="color:#A6ACCD;">host2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[atlanta:vars]</span></span>
<span class="line"><span style="color:#F07178;">ntp_server</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">ntp.atlanta.example.com</span></span>
<span class="line"><span style="color:#F07178;">proxy</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">proxy.atlanta.example.com</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="命令行-ad-hoc" tabindex="-1">命令行(ad-hoc) <a class="header-anchor" href="#命令行-ad-hoc" aria-hidden="true">#</a></h2><h3 id="ansible" tabindex="-1">ansible <a class="header-anchor" href="#ansible" aria-hidden="true">#</a></h3><p>检查Inventory是否生效</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--list-hosts</span></span>
<span class="line"></span></code></pre></div><p>ping所有目标</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ping</span></span>
<span class="line"></span></code></pre></div><p>ping本地(不使用SSH连接)</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;ansible_connection&quot;: &quot;local&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ping</span></span>
<span class="line"></span></code></pre></div><p>本地执行命令</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;ansible_connection&quot;: &quot;local&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hostname</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>获取本地主机的信息</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;ansible_connection&quot;: &quot;local&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span></span>
<span class="line"></span></code></pre></div><p>获取远程到本地</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">target</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fetch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src=/tmp/seq dest=/tmp/seq</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>拷贝本地到远程</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">target</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">copy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src=/tmp/seq dest=/tmp/seq</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="ansible-命令帮助" tabindex="-1">Ansible 命令帮助 <a class="header-anchor" href="#ansible-命令帮助" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">host-patter</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-a MODULE_ARGS</code>, <code>--args=MODULE_ARGS</code></td><td>模块参数</td></tr><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-B SECONDS</code>, <code>--background=SECONDS</code></td><td>异步运行，X 秒后失败 (默认=N/A)</td></tr><tr><td style="text-align:left;"><code>-C</code>, <code>--check</code></td><td>不要做任何改变；相反，尝试预测可能发生的一些变化</td></tr><tr><td style="text-align:left;"><code>-D</code>, <code>--diff</code></td><td>更改(小)文件和模板时，显示这些文件中的差异； 与 <code>--check</code> 配合使用效果很好</td></tr><tr><td style="text-align:left;"><code>-e EXTRA_VARS</code>, <code>--extra-vars=EXTRA_VARS</code></td><td>将附加变量设置为 key=value 或 YAML/JSON</td></tr><tr><td style="text-align:left;"><code>-f FORKS</code>, <code>--forks=FORKS</code></td><td>指定要使用的并行进程数 (default=5)</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-i INVENTORY</code>, <code>--inventory-file=INVENTORY</code></td><td>指定清单主机路径(默认=/etc/ansible/hosts)或逗号分隔的主机列表</td></tr><tr><td style="text-align:left;"><code>-l SUBSET</code>, <code>--limit=SUBSET</code></td><td>进一步将选定主机限制为其他模式</td></tr><tr><td style="text-align:left;"><code>--list-hosts</code></td><td>输出匹配主机列表；不执行任何其他操作</td></tr><tr><td style="text-align:left;"><code>-m MODULE_NAME</code>, <code>--module-name=MODULE_NAME</code></td><td>要执行的模块名称 (default=command)</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径 (default=None)</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>-o</code>, <code>--one-line</code></td><td>压缩输出</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名； 使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>-P POLL_INTERVAL</code>, <code>--poll=POLL_INTERVAL</code></td><td>如果使用 -B 则设置轮询间隔(default=15)</td></tr><tr><td style="text-align:left;"><code>--syntax-check</code></td><td>对 playbook 执行语法检查，但不要执行它</td></tr><tr><td style="text-align:left;"><code>-t TREE</code>, <code>--tree=TREE</code></td><td>将输出记录到此目录</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><p>控制谁以及如何连接到主机，连接选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-k</code>, <code>--ask-pass</code></td><td>询问连接密码</td></tr><tr><td style="text-align:left;"><code>--private-key=PRIVATE_KEY_FILE</code>, <code>--key-file=PRIVATE_KEY_FILE</code></td><td>使用此文件来验证连接</td></tr><tr><td style="text-align:left;"><code>-u REMOTE_USER</code>, <code>--user=REMOTE_USER</code></td><td>以此用户身份连接(default=None)</td></tr><tr><td style="text-align:left;"><code>-c CONNECTION</code>, <code>--connection=CONNECTION</code></td><td>要使用的连接类型 (default=smart)</td></tr><tr><td style="text-align:left;"><code>-T TIMEOUT</code>, <code>--timeout=TIMEOUT</code></td><td>以秒为单位覆盖连接超时 (default=10)</td></tr><tr><td style="text-align:left;"><code>--ssh-common-args=SSH_COMMON_ARGS</code></td><td>指定要传递给 sftp/scp/ssh 的常用参数 (e.g. ProxyCommand)</td></tr><tr><td style="text-align:left;"><code>--sftp-extra-args=SFTP_EXTRA_ARGS</code></td><td>指定仅传递给 sftp 的额外参数 (e.g. -f, -l)</td></tr><tr><td style="text-align:left;"><code>--scp-extra-args=SCP_EXTRA_ARGS</code></td><td>指定仅传递给 <code>scp</code> 的额外参数 (e.g. -l)</td></tr><tr><td style="text-align:left;"><code>--ssh-extra-args=SSH_EXTRA_ARGS</code></td><td>指定仅传递给 <code>ssh</code> 的额外参数 (e.g. -R)</td></tr></tbody></table><p>控制您成为目标主机上的用户的方式和用户，特权升级选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-s</code>, <code>--sudo</code></td><td>使用 sudo (nopasswd) 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-U SUDO_USER</code>, <code>--sudo-user=SUDO_USER</code></td><td>所需的 sudo 用户(默认=root)(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-S</code>, <code>--su</code></td><td>使用 su 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-R SU_USER</code>, <code>--su-user=SU_USER</code></td><td>以该用户身份使用 su 运行操作(默认 = root)(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-b</code>, <code>--become</code></td><td>使用 become 运行操作(不暗示密码提示)</td></tr><tr><td style="text-align:left;"><code>--become-method=BECOME_METHOD</code></td><td>要使用的权限提升方法(默认=sudo)，有效选择：[ sudo</td></tr><tr><td style="text-align:left;"><code>--become-user=BECOME_USER</code></td><td>以该用户身份运行操作(默认=root)</td></tr><tr><td style="text-align:left;"><code>--ask-sudo-pass</code></td><td>询问 sudo 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>--ask-su-pass</code></td><td>询问 su 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-K</code>, <code>--ask-become-pass</code></td><td>要求提权密码</td></tr></tbody></table><h3 id="ansible-galaxy-工具" tabindex="-1">Ansible Galaxy 工具 <a class="header-anchor" href="#ansible-galaxy-工具" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">delete</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">import</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">info</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">init</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">install</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">login</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">remove</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">search</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">setup</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--help</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><hr><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--author</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">AUTHO</span><span style="color:#A6ACCD;">R</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--platforms</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">PLATFOR</span><span style="color:#A6ACCD;">M</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--galaxy-tags</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">TA</span><span style="color:#A6ACCD;">G</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">info</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE_DIRECTOR</span><span style="color:#A6ACCD;">Y</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE</span><span style="color:#89DDFF;">1&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE</span><span style="color:#89DDFF;">2&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE</span><span style="color:#89DDFF;">3&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--offline</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="ansible-doc" tabindex="-1">ansible-doc <a class="header-anchor" href="#ansible-doc" aria-hidden="true">#</a></h3><p>在本地访问文档</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-doc</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-doc</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">module...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-l</code>, <code>--list</code></td><td>列出可用模块</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径 (default=None)</td></tr><tr><td style="text-align:left;"><code>-s</code>, <code>--snippet</code></td><td>显示指定模块的剧本片段</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><h3 id="ansible-vault" tabindex="-1">ansible-vault <a class="header-anchor" href="#ansible-vault" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-vault</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-vault</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">create</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">decrypt</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">encrypt</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">rekey</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">view</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--help</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vaultfile.yml</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名； 使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><h3 id="ansible-playbook" tabindex="-1">ansible-playbook <a class="header-anchor" href="#ansible-playbook" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-playbook</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-playbook</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">playbook.yml</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-C</code>, <code>--check</code></td><td>不要做任何改变；相反，尝试预测可能发生的一些变化</td></tr><tr><td style="text-align:left;"><code>-D</code>, <code>--diff</code></td><td>更改（小）文件和模板时，显示这些文件中的差异；与 <code>--check</code> 配合使用效果很好</td></tr><tr><td style="text-align:left;"><code>-e EXTRA_VARS</code>, <code>--extra-vars=EXTRA_VARS</code></td><td>将附加变量设置为 key=value 或 YAML/JSON</td></tr><tr><td style="text-align:left;"><code>--flush-cache</code></td><td>清除事实缓存</td></tr><tr><td style="text-align:left;"><code>--force-handlers</code></td><td>即使任务失败也运行处理程序</td></tr><tr><td style="text-align:left;"><code>-f FORKS</code>, <code>--forks=FORKS</code></td><td>指定要使用的并行进程数（默认值=5）</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-i INVENTORY</code>, <code>--inventory-file=INVENTORY</code></td><td>指定清单主机路径（默认=/etc/ansible/hosts）或逗号分隔的主机列表</td></tr><tr><td style="text-align:left;"><code>-l SUBSET</code>, <code>--limit=SUBSET</code></td><td>进一步将选定主机限制为其他模式</td></tr><tr><td style="text-align:left;"><code>--list-hosts</code></td><td>输出匹配主机列表；不执行任何其他操作</td></tr><tr><td style="text-align:left;"><code>--list-tags</code></td><td>列出所有可用的标签</td></tr><tr><td style="text-align:left;"><code>--list-tasks</code></td><td>列出所有将要执行的任务</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径（默认=无）</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名；使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>--skip-tags=SKIP_TAGS</code></td><td>只运行标签与这些值不匹配的播放和任务</td></tr><tr><td style="text-align:left;"><code>--start-at-task=START_AT_TASK</code></td><td>在匹配此名称的任务处启动剧本</td></tr><tr><td style="text-align:left;"><code>--step</code></td><td>一步一步：在运行前确认每个任务</td></tr><tr><td style="text-align:left;"><code>--syntax-check</code></td><td>对 playbook 执行语法检查，但不要执行它</td></tr><tr><td style="text-align:left;"><code>-t TAGS</code>, <code>--tags=TAGS</code></td><td>只运行带有这些值标记的播放和任务</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式（-vvv 更多，-vvvv 启用连接调试）</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><p>连接选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-k</code>, <code>--ask-pass</code></td><td>询问连接密码</td></tr><tr><td style="text-align:left;"><code>--private-key=PRIVATE_KEY_FILE</code>, <code>--key-file=PRIVATE_KEY_FILE</code></td><td>使用此文件来验证连接</td></tr><tr><td style="text-align:left;"><code>-u REMOTE_USER</code>, <code>--user=REMOTE_USER</code></td><td>以此用户身份连接(默认=None)</td></tr><tr><td style="text-align:left;"><code>-c CONNECTION</code>, <code>--connection=CONNECTION</code></td><td>要使用的连接类型(默认=smart)</td></tr><tr><td style="text-align:left;"><code>-T TIMEOUT</code>, <code>--timeout=TIMEOUT</code></td><td>以秒为单位覆盖连接超时(默认值 = 10)</td></tr><tr><td style="text-align:left;"><code>--ssh-common-args=SSH_COMMON_ARGS</code></td><td>指定要传递给 sftp/scp/ssh 的常用参数(例如 ProxyCommand)</td></tr><tr><td style="text-align:left;"><code>--sftp-extra-args=SFTP_EXTRA_ARGS</code></td><td>指定仅传递给 sftp 的额外参数(例如 -f、-l)</td></tr><tr><td style="text-align:left;"><code>--scp-extra-args=SCP_EXTRA_ARGS</code></td><td>指定仅传递给 scp 的额外参数(例如 -l)</td></tr><tr><td style="text-align:left;"><code>--ssh-extra-args=SSH_EXTRA_ARGS</code></td><td>指定仅传递给 ssh 的额外参数(例如 -R)</td></tr></tbody></table><p>特权升级选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-s</code>, <code>--sudo</code></td><td>使用 sudo (nopasswd) 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-U SUDO_USER</code>, <code>--sudo-user=SUDO_USER</code></td><td>所需的 sudo 用户(默认=root)(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>-S</code>, <code>--su</code></td><td>使用 su 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-R SU_USER</code>, <code>--su-user=SU_USER</code></td><td>以该用户身份使用 su 运行操作(默认 = root)(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>-b</code>, <code>--become</code></td><td>使用 become 运行操作(不暗示密码提示)</td></tr><tr><td style="text-align:left;"><code>--become-method=BECOME_METHOD</code></td><td>要使用的权限提升方法(默认=sudo)，有效选择：[ sudo | su | pbrun | pfexec | runas | doas | dzdo ]</td></tr><tr><td style="text-align:left;"><code>--become-user=BECOME_USER</code></td><td>以该用户身份运行操作(默认=root)</td></tr><tr><td style="text-align:left;"><code>--ask-sudo-pass</code></td><td>询问 sudo 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>--ask-su-pass</code></td><td>询问 su 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-K</code>, <code>--ask-become-pass</code></td><td>要求提权密码</td></tr></tbody></table><h3 id="ansible-pull" tabindex="-1">ansible-pull <a class="header-anchor" href="#ansible-pull" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-pull</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-U</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">repositor</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--accept-host-key</code></td><td>如果尚未添加，则添加 repo url 的主机密钥</td></tr><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-C CHECKOUT</code>, <code>--checkout=CHECKOUT</code></td><td>分支/标签/提交结帐。默认为存储库模块的行为。</td></tr><tr><td style="text-align:left;"><code>-d DEST</code>, <code>--directory=DEST</code></td><td>签出存储库的目录</td></tr><tr><td style="text-align:left;"><code>-e EXTRA_VARS</code>, <code>--extra-vars=EXTRA_VARS</code></td><td>将附加变量设置为 key=value 或 YAML/JSON</td></tr><tr><td style="text-align:left;"><code>-f</code>, <code>--force</code></td><td>即使无法更新存储库也运行 playbook</td></tr><tr><td style="text-align:left;"><code>--full</code></td><td>做一个完整的克隆，而不是一个浅的</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-i INVENTORY</code>, <code>--inventory-file=INVENTORY</code></td><td>指定清单主机路径(默认=/etc/ansible/hosts)或逗号分隔的主机列表</td></tr><tr><td style="text-align:left;"><code>-l SUBSET</code>, <code>--limit=SUBSET</code></td><td>进一步将选定主机限制为其他模式</td></tr><tr><td style="text-align:left;"><code>--list-hosts</code></td><td>输出匹配主机列表；不执行任何其他操作</td></tr><tr><td style="text-align:left;"><code>-m MODULE_NAME</code>, <code>--module-name=MODULE_NAME</code></td><td>存储库模块名称，ansible 将使用它来签出 repo。默认是 git</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径(默认=无)</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>-o</code>, <code>--only-if-changed</code></td><td>仅在存储库已更新时才运行 playbook</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名；使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>--purge</code></td><td>剧本运行后清除结帐</td></tr><tr><td style="text-align:left;"><code>--skip-tags=SKIP_TAGS</code></td><td>只运行标签与这些值不匹配的播放和任务</td></tr><tr><td style="text-align:left;"><code>-s SLEEP</code>, <code>--sleep=SLEEP</code></td><td>在开始之前休眠随机间隔(在 0 到 n 秒之间)。这是分散 git 请求的有用方法</td></tr><tr><td style="text-align:left;"><code>-t TAGS</code>, <code>--tags=TAGS</code></td><td>只运行带有这些值标记的播放和任务</td></tr><tr><td style="text-align:left;"><code>-U URL</code>, <code>--url=URL</code></td><td>剧本存储库的 URL</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--verify-commit</code></td><td>验证签出提交的 GPG 签名，如果失败则中止运行 playbook。这就需要对应的VCS模块来支持这样的操作</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><p>连接选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-k</code>, <code>--ask-pass</code></td><td>询问连接密码</td></tr><tr><td style="text-align:left;"><code>--private-key=PRIVATE_KEY_FILE</code>, <code>--key-file=PRIVATE_KEY_FILE</code></td><td>使用此文件来验证连接</td></tr><tr><td style="text-align:left;"><code>-u REMOTE_USER</code>, <code>--user=REMOTE_USER</code></td><td>以此用户身份连接(默认=无)</td></tr><tr><td style="text-align:left;"><code>-c CONNECTION</code>, <code>--connection=CONNECTION</code></td><td>要使用的连接类型(默认=智能)</td></tr><tr><td style="text-align:left;"><code>-T TIMEOUT</code>, <code>--timeout=TIMEOUT</code></td><td>以秒为单位覆盖连接超时(默认值 = 10)</td></tr><tr><td style="text-align:left;"><code>--ssh-common-args=SSH_COMMON_ARGS</code></td><td>指定要传递给 sftp/scp/ssh 的常用参数(例如 ProxyCommand)</td></tr><tr><td style="text-align:left;"><code>--sftp-extra-args=SFTP_EXTRA_ARGS</code></td><td>指定仅传递给 sftp 的额外参数(例如 -f、-l)</td></tr><tr><td style="text-align:left;"><code>--scp-extra-args=SCP_EXTRA_ARGS</code></td><td>指定仅传递给 scp 的额外参数(例如 -l)</td></tr><tr><td style="text-align:left;"><code>--ssh-extra-args=SSH_EXTRA_ARGS</code></td><td>指定仅传递给 ssh 的额外参数(例如 -R)</td></tr></tbody></table><p>特权升级选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--ask-sudo-pass</code></td><td>询问 sudo 密码(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>--ask-su-pass</code></td><td>询问 su 密码(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>-K</code>, <code>--ask-become-pass</code></td><td>要求提权密码</td></tr></tbody></table><h2 id="另见" tabindex="-1">另见 <a class="header-anchor" href="#另见" aria-hidden="true">#</a></h2><ul><li><a href="https://docs.ansible.com/ansible/latest/getting_started/index.html" target="_blank" rel="noreferrer">Getting started with Ansible</a></li><li><a href="https://docs.ansible.com/ansible/latest/user_guide/intro_adhoc.html" target="_blank" rel="noreferrer">Introduction to ad hoc commands</a></li><li><a href="https://github.com/luckylittle/ansible-cheatsheet/blob/master/ansible-cheatsheet.txt" target="_blank" rel="noreferrer">Ansible cheatsheet</a></li><li><a href="https://spacelift.io/blog/ansible-tutorial" target="_blank" rel="noreferrer">Ansible Tutorial for Beginners: Ultimate Playbook &amp; Examples</a></li></ul></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-c5936a1e data-v-2813752b><!----><div class="prev-next" data-v-2813752b><div class="pager" data-v-2813752b><!----></div><div class="pager" data-v-2813752b><a class="pager-link next" href="/MyBlog/study/vitepress/" data-v-2813752b><span class="desc" data-v-2813752b>下一篇</span><span class="title" data-v-2813752b>Vitepress</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-93a960b4 data-v-d24360a6><div class="container" data-v-d24360a6><!----><p class="copyright" data-v-d24360a6>Copyright © MIT Zhaxi</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"devm_design_index.md\":\"c7bf2dc6\",\"devm_java_example_index.md\":\"28438622\",\"devm_node_index.md\":\"d533424b\",\" readme.md\":\"a7a90b08\",\"devm_java_spring_index.md\":\"5bc16f4e\",\"study_vitepress_index.md\":\"6015a6cd\",\"devm_vite_index.md\":\"e94363f5\",\"index.md\":\"4a6abddb\",\"devm_java_index.md\":\"50a32b05\",\"guide_index.md\":\"50a3ef63\",\"study_zhaxiblog_index.md\":\"8d53c84a\",\"study_bigdata_index.md\":\"c8a93367\",\"study_zhaxiblog_gitpage_index.md\":\"8db5f4f5\",\"yunwei_network_index.md\":\"0b6b43e3\",\"devm_java_jichu_index.md\":\"8b2b2255\",\"yunwei_server_index.md\":\"ecb3a1ef\",\"devm_java_tool_index.md\":\"2d05d212\",\"study_es6_index.md\":\"c08ea21f\",\"study_github_index.md\":\"917d3753\",\"quickref_linuxcommand_index.md\":\"1303ef57\",\"yunwei_index.md\":\"596044d0\",\"system_index.md\":\"a75bf3d4\",\"yunwei_anquan_index.md\":\"834ed91a\",\"yunwei_basicalkn_index.md\":\"f203ff26\",\"study_index.md\":\"3be1fdc1\",\"workrecord_mysql_index.md\":\"e354dee4\",\"yunwei_other_index.md\":\"2b7a7517\",\"study_mathematics_index.md\":\"219fab15\",\"workrecord_linux_index.md\":\"4c250f70\",\"study_qanda_index.md\":\"966ac4f2\",\"yunwei_sql_index.md\":\"4ffe1b05\",\"yunwei_windows_index.md\":\"4418f1b3\",\"study_git_index.md\":\"0e66ea8f\",\"quickref_ansible_index.md\":\"6c2afd5d\",\"personal_index.md\":\"cd2255d1\",\"quickref_docker_index.md\":\"9652d1d3\",\"study_mianshi_index.md\":\"f116ca88\",\"quickref_es6_index.md\":\"4727051d\"}")</script>
    <script type="module" async src="/MyBlog/assets/app.0fdc3d94.js"></script>
    
  </body>
</html>