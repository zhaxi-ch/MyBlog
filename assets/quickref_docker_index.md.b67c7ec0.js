import{_ as s,c as l,o as a,d as n}from"./app.1cd524f6.js";const D=JSON.parse('{"title":"Docker 备忘清单","description":"","frontmatter":{},"headers":[{"level":2,"title":"入门","slug":"入门","link":"#入门","children":[{"level":3,"title":"入门","slug":"入门-1","link":"#入门-1","children":[]},{"level":3,"title":"一般命令","slug":"一般命令","link":"#一般命令","children":[]}]},{"level":2,"title":"Docker 容器","slug":"docker-容器","link":"#docker-容器","children":[{"level":3,"title":"启动和停止","slug":"启动和停止","link":"#启动和停止","children":[]},{"level":3,"title":"说明","slug":"说明","link":"#说明","children":[]},{"level":3,"title":"创建容器","slug":"创建容器","link":"#创建容器","children":[]},{"level":3,"title":"操控","slug":"操控","link":"#操控","children":[]}]},{"level":2,"title":"Docker 镜像","slug":"docker-镜像","link":"#docker-镜像","children":[{"level":3,"title":"操控","slug":"操控-1","link":"#操控-1","children":[]},{"level":3,"title":"构建镜像","slug":"构建镜像","link":"#构建镜像","children":[]},{"level":3,"title":"删除 <none> 镜像","slug":"删除-none-镜像","link":"#删除-none-镜像","children":[]}]},{"level":2,"title":"Docker 网络","slug":"docker-网络","link":"#docker-网络","children":[{"level":3,"title":"操作","slug":"操作","link":"#操作","children":[]},{"level":3,"title":"创建网络","slug":"创建网络","link":"#创建网络","children":[]}]},{"level":2,"title":"Docker 快捷键","slug":"docker-快捷键","link":"#docker-快捷键","children":[{"level":3,"title":"退出","slug":"退出","link":"#退出","children":[]}]},{"level":2,"title":"各种各样的","slug":"各种各样的","link":"#各种各样的","children":[{"level":3,"title":"Docker Hub","slug":"docker-hub","link":"#docker-hub","children":[]},{"level":3,"title":"镜像仓库命令","slug":"镜像仓库命令","link":"#镜像仓库命令","children":[]},{"level":3,"title":"批量清除","slug":"批量清除","link":"#批量清除","children":[]},{"level":3,"title":"卷 volume","slug":"卷-volume","link":"#卷-volume","children":[]},{"level":3,"title":"Docker Compose","slug":"docker-compose","link":"#docker-compose","children":[]},{"level":3,"title":"Docker Services","slug":"docker-services","link":"#docker-services","children":[]},{"level":3,"title":"Docker Stack","slug":"docker-stack","link":"#docker-stack","children":[]},{"level":3,"title":"Docker Machine","slug":"docker-machine","link":"#docker-machine","children":[]},{"level":3,"title":"docker 主要命令","slug":"docker-主要命令","link":"#docker-主要命令","children":[]},{"level":3,"title":"docker run/create","slug":"docker-run-create","link":"#docker-run-create","children":[]},{"level":3,"title":"docker 全局参数","slug":"docker-全局参数","link":"#docker-全局参数","children":[]},{"level":3,"title":"docker 管理命令","slug":"docker-管理命令","link":"#docker-管理命令","children":[]},{"level":3,"title":"docker images","slug":"docker-images","link":"#docker-images","children":[]}]},{"level":2,"title":"Docker 示例","slug":"docker-示例","link":"#docker-示例","children":[{"level":3,"title":"Docker Web 管理工具 portainer","slug":"docker-web-管理工具-portainer","link":"#docker-web-管理工具-portainer","children":[]},{"level":3,"title":"在线代码编辑器 Code Server","slug":"在线代码编辑器-code-server","link":"#在线代码编辑器-code-server","children":[]},{"level":3,"title":"MySQL","slug":"mysql","link":"#mysql","children":[]},{"level":3,"title":"Redis","slug":"redis","link":"#redis","children":[]},{"level":3,"title":"Nginx","slug":"nginx","link":"#nginx","children":[]},{"level":3,"title":"PostgreSQL","slug":"postgresql","link":"#postgresql","children":[]},{"level":3,"title":"媒体管理工具 Dim","slug":"媒体管理工具-dim","link":"#媒体管理工具-dim","children":[]},{"level":3,"title":"Gitlab","slug":"gitlab","link":"#gitlab","children":[]}]},{"level":2,"title":"另见","slug":"另见","link":"#另见","children":[]}],"relativePath":"quickref/docker/index.md"}'),t={name:"quickref/docker/index.md"},e=n(`<h1 id="docker-备忘清单" tabindex="-1">Docker 备忘清单 <a class="header-anchor" href="#docker-备忘清单" aria-hidden="true">#</a></h1><p>这是 <a href="https://docs.docker.com/get-started/" target="_blank" rel="noreferrer">Docker</a> 的快速参考备忘单。 你可以在这里找到最常见的 Docker 命令。</p><h2 id="入门" tabindex="-1">入门 <a class="header-anchor" href="#入门" aria-hidden="true">#</a></h2><h3 id="入门-1" tabindex="-1">入门 <a class="header-anchor" href="#入门-1" aria-hidden="true">#</a></h3><p>在后台创建和运行容器</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker/getting-started</span></span>
<span class="line"></span></code></pre></div><hr><ul><li><code>-d</code> - 以分离（后台）模式运行容器</li><li><code>-p 80:80</code> - 将端口 80 映射到容器中的端口 80，格式：宿主机端口:容器端口</li><li><code>docker/getting-started</code> - 要使用的镜像</li></ul><p>在前台创建并运行容器（之后如果要退出容器但是不关闭容器，按<em>Ctrl+P+Q</em>即可）</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">8001</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8080</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span></code></pre></div><hr><ul><li><code>-it</code> - 交互式 bash 模式</li><li><code>--rm</code> - 容器终止运行后自动删除容器文件</li><li><code>-p 8001:8080</code> - 将 <code>8001</code> 端口映射到容器中的 <code>8080</code> 端口</li><li><code>--name my-nginx</code> - 指定名称</li><li><code>nginx</code> - 要使用的镜像</li></ul><h3 id="一般命令" tabindex="-1">一般命令 <a class="header-anchor" href="#一般命令" aria-hidden="true">#</a></h3><table><thead><tr><th>Example</th><th>Description</th></tr></thead><tbody><tr><td><code>docker ps</code></td><td>列出正在运行的容器</td></tr><tr><td><code>docker ps -a</code></td><td>列出所有容器</td></tr><tr><td><code>docker ps -s</code></td><td>列出正在运行的容器 <em>(带 CPU / 内存)</em></td></tr><tr><td><code>docker images</code></td><td>列出所有镜像</td></tr><tr><td><code>docker exec -it &lt;container&gt; bash</code></td><td>连接到容器</td></tr><tr><td><code>docker logs &lt;container&gt;</code></td><td>显示容器的控制台日志</td></tr><tr><td><code>docker stop &lt;container&gt;</code></td><td>停止容器</td></tr><tr><td><code>docker restart &lt;container&gt;</code></td><td>重启一个容器</td></tr><tr><td><code>docker rm &lt;container&gt;</code></td><td>移除一个容器</td></tr><tr><td><code>docker port &lt;container&gt;</code></td><td>显示容器的端口映射</td></tr><tr><td><code>docker top &lt;container&gt;</code></td><td>列出进程</td></tr><tr><td><code>docker kill &lt;container&gt;</code></td><td>杀死一个容器</td></tr></tbody></table><p>参数 <code>&lt;container&gt;</code> 可以是容器 id 或名称</p><h2 id="docker-容器" tabindex="-1">Docker 容器 <a class="header-anchor" href="#docker-容器" aria-hidden="true">#</a></h2><h3 id="启动和停止" tabindex="-1">启动和停止 <a class="header-anchor" href="#启动和停止" aria-hidden="true">#</a></h3><table><thead><tr><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>docker start nginx-server</code></td><td>开始</td></tr><tr><td><code>docker stop nginx-server</code></td><td>停止</td></tr><tr><td><code>docker restart nginx-server</code></td><td>重启</td></tr><tr><td><code>docker pause nginx-server</code></td><td>暂停</td></tr><tr><td><code>docker unpause nginx-server</code></td><td>取消暂停</td></tr><tr><td><code>docker wait nginx-server</code></td><td>阻塞容器</td></tr><tr><td><code>docker kill nginx-server</code></td><td>发送 SIGKILL</td></tr><tr><td><code>docker attach nginx-server</code></td><td>连接到现有容器</td></tr></tbody></table><h3 id="说明" tabindex="-1">说明 <a class="header-anchor" href="#说明" aria-hidden="true">#</a></h3><table><thead><tr><th>Example</th><th>Description</th></tr></thead><tbody><tr><td><code>docker ps</code></td><td>列出正在运行的容器</td></tr><tr><td><code>docker ps -a</code></td><td>列出所有容器</td></tr><tr><td><code>docker logs nginx-server</code></td><td>容器日志</td></tr><tr><td><code>docker inspect nginx-server</code></td><td>检查容器</td></tr><tr><td><code>docker events nginx-server</code></td><td>容器事件</td></tr><tr><td><code>docker port nginx-server</code></td><td>公共端口</td></tr><tr><td><code>docker top nginx-server</code></td><td>运行进程</td></tr><tr><td><code>docker stats nginx-server</code></td><td>容器资源使用</td></tr><tr><td><code>docker diff nginx-server</code></td><td>列出对容器所做的更改</td></tr></tbody></table><h3 id="创建容器" tabindex="-1">创建容器 <a class="header-anchor" href="#创建容器" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">IMAGE</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-a,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--attach</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 附加标准输出/错误</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-i,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--interactive</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 附加标准输入（交互式）</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-t,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--tty</span><span style="color:#A6ACCD;">                  </span><span style="color:#676E95;font-style:italic;"># 伪终端 pseudo-tty</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NAME</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 命名你的镜像</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-p,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--publish</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5000</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">5000</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 端口映射（主机:容器）</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">--expose</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5432</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 向容器公开端口 </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-P,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--publish-all</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 发布所有端口</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">--link</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container:alias</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 链接 linking</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-v,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--volume</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">\`</span><span style="color:#82AAFF;">:</span><span style="color:#FFCB6B;">/app</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># mount（需要绝对路径）</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-e,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NAME=hello</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 环境变量 env vars</span></span>
<span class="line"></span></code></pre></div><h4 id="实例" tabindex="-1">实例 <a class="header-anchor" href="#实例" aria-hidden="true">#</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my_redis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--expose</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6379</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis:3.0.2</span></span>
<span class="line"></span></code></pre></div><h3 id="操控" tabindex="-1">操控 <a class="header-anchor" href="#操控" aria-hidden="true">#</a></h3><p>重命名容器</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rename</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx-server</span></span>
<span class="line"></span></code></pre></div><p>移除容器</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx-server</span></span>
<span class="line"></span></code></pre></div><p>更新容器</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--cpu-shares</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">512</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">300M</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx-server</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-镜像" tabindex="-1">Docker 镜像 <a class="header-anchor" href="#docker-镜像" aria-hidden="true">#</a></h2><h3 id="操控-1" tabindex="-1">操控 <a class="header-anchor" href="#操控-1" aria-hidden="true">#</a></h3><table><thead><tr><th><code>Example</code></th><th>Description</th></tr></thead><tbody><tr><td><code>docker images</code></td><td>列出镜像</td></tr><tr><td><code>docker rmi nginx</code></td><td>删除镜像</td></tr><tr><td><code>docker load &lt; ubuntu.tar.gz</code></td><td>加载一个 tarred 存储库</td></tr><tr><td><code>docker load --input ubuntu.tar</code></td><td>加载一个 tarred 存储库</td></tr><tr><td><code>docker save busybox &gt; ubuntu.tar</code></td><td>将镜像保存到 tar 存档</td></tr><tr><td><code>docker history</code></td><td>显示镜像的历史</td></tr><tr><td><code>docker commit nginx my_nginx</code></td><td>将容器另存为镜像</td></tr><tr><td><code>docker tag nginx eon01/nginx</code></td><td>标记镜像</td></tr><tr><td><code>docker push eon01/nginx</code></td><td>推送镜像</td></tr></tbody></table><h3 id="构建镜像" tabindex="-1">构建镜像 <a class="header-anchor" href="#构建镜像" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 注意有的最后面是英文 .</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">github.com/creack/docker-firefox</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Dockerfile</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">context.tar.gz</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eon/nginx-server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">myOtherDockerfile</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.com/remote/Dockerfile</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span></code></pre></div><h3 id="删除-none-镜像" tabindex="-1">删除 &lt;none&gt; 镜像 <a class="header-anchor" href="#删除-none-镜像" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rmi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> images </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">none</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">awk</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{print $3}</span><span style="color:#89DDFF;">&#39;)</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-网络" tabindex="-1">Docker 网络 <a class="header-anchor" href="#docker-网络" aria-hidden="true">#</a></h2><h3 id="操作" tabindex="-1">操作 <a class="header-anchor" href="#操作" aria-hidden="true">#</a></h3><p>删除网络</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MyOverlayNetwork</span></span>
<span class="line"></span></code></pre></div><p>列出网络</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"></span></code></pre></div><p>获取有关网络的信息</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">inspect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MyOverlayNetwork</span></span>
<span class="line"></span></code></pre></div><p>将正在运行的容器连接到网络</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MyOverlayNetwork</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span></code></pre></div><p>启动时将容器连接到网络</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--network=MyOverlayNetwork</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span></code></pre></div><p>断开容器与网络的连接</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">disconnect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MyOverlayNetwork</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span></code></pre></div><h3 id="创建网络" tabindex="-1">创建网络 <a class="header-anchor" href="#创建网络" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">overlay</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MyOverlayNetwork</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bridge</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MyBridgeNetwork</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">overlay</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--subnet=192.168.0.0/16</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--subnet=192.170.0.0/16</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--gateway=192.168.0.100</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--gateway=192.170.0.100</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--ip-range=192.168.1.0/24</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--aux-address=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-router=192.168.1.5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--aux-address=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-switch=192.168.1.6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--aux-address=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-printer=192.170.1.5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--aux-address=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-nas=192.170.1.6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">MyOverlayNetwork</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-快捷键" tabindex="-1">Docker 快捷键 <a class="header-anchor" href="#docker-快捷键" aria-hidden="true">#</a></h2><h3 id="退出" tabindex="-1">退出 <a class="header-anchor" href="#退出" aria-hidden="true">#</a></h3><table><thead><tr><th>Docker 快捷键</th><th>说明</th></tr></thead><tbody><tr><td><code>ctrl+c</code></td><td>将关闭容器，并删除当前的容器实例</td></tr><tr><td><code>ctrl+d</code></td><td>将保留容器，并退出到Docker主机的命令行界面</td></tr><tr><td><code>ctrl+p+q</code></td><td>将容器分离，保留容器，但是不退出</td></tr></tbody></table><p>需要特别注意的是，上面的退出快捷键中的删除容器实例只对于使用<code>docker attach</code>进入的容器生效，使用<code>docker exec</code>进入容器后使用上面的快捷键后将隔离容器且不会删除容器实例。</p><h2 id="各种各样的" tabindex="-1">各种各样的 <a class="header-anchor" href="#各种各样的" aria-hidden="true">#</a></h2><h3 id="docker-hub" tabindex="-1">Docker Hub <a class="header-anchor" href="#docker-hub" aria-hidden="true">#</a></h3><table><thead><tr><th>Docker 语法</th><th>说明</th></tr></thead><tbody><tr><td><code>docker search search_word</code></td><td>在 docker hub 中搜索镜像</td></tr><tr><td><code>docker pull user/image</code></td><td>从 docker hub 下载镜像</td></tr><tr><td><code>docker login</code></td><td>向 docker hub 进行身份验证</td></tr><tr><td><code>docker push user/image</code></td><td>将镜像上传到 docker hub</td></tr></tbody></table><h3 id="镜像仓库命令" tabindex="-1">镜像仓库命令 <a class="header-anchor" href="#镜像仓库命令" aria-hidden="true">#</a></h3><p>登录到镜像仓库</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">login</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">login</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:</span><span style="color:#F78C6C;">8080</span></span>
<span class="line"></span></code></pre></div><p>从镜像仓库注销</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logout</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:</span><span style="color:#F78C6C;">8080</span></span>
<span class="line"></span></code></pre></div><p>搜索镜像</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--stars=3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--no-trunc</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">busybox</span></span>
<span class="line"></span></code></pre></div><p>拉取镜像</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eon01/nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:</span><span style="color:#F78C6C;">5000</span><span style="color:#C3E88D;">/myadmin/nginx</span></span>
<span class="line"></span></code></pre></div><p>推送镜像</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eon01/nginx</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eon01/nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost:</span><span style="color:#F78C6C;">5000</span><span style="color:#C3E88D;">/myadmin/nginx</span></span>
<span class="line"></span></code></pre></div><h3 id="批量清除" tabindex="-1">批量清除 <a class="header-anchor" href="#批量清除" aria-hidden="true">#</a></h3><table><thead><tr><th>实例</th><th>说明</th></tr></thead><tbody><tr><td><code>docker stop -f $(docker ps -a -q)</code></td><td>停止所有容器</td></tr><tr><td><code>docker rm -f $(docker ps -a -q)</code></td><td>删除所有容器</td></tr><tr><td><code>docker rmi -f $(docker images -q)</code></td><td>删除所有镜像</td></tr></tbody></table><h3 id="卷-volume" tabindex="-1">卷 volume <a class="header-anchor" href="#卷-volume" aria-hidden="true">#</a></h3><p>检查卷</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"></span></code></pre></div><p>清理未使用的卷</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prune</span></span>
<span class="line"></span></code></pre></div><h3 id="docker-compose" tabindex="-1">Docker Compose <a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">:-</th><th style="text-align:left;">:-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>docker-compose up</code></td><td style="text-align:left;">创建和启动容器</td></tr><tr><td style="text-align:left;"><code>docker-compose up -d</code></td><td style="text-align:left;">以分离模式创建和启动容器</td></tr><tr><td style="text-align:left;"><code>docker-compose down</code></td><td style="text-align:left;">停止和删除容器、网络、映像和卷</td></tr><tr><td style="text-align:left;"><code>docker-compose logs</code></td><td style="text-align:left;">查看容器的输出</td></tr><tr><td style="text-align:left;"><code>docker-compose restart</code></td><td style="text-align:left;">重启所有服务</td></tr><tr><td style="text-align:left;"><code>docker-compose pull</code></td><td style="text-align:left;">拉取所有服务的镜像</td></tr><tr><td style="text-align:left;"><code>docker-compose build</code></td><td style="text-align:left;">构建所有服务的镜像</td></tr><tr><td style="text-align:left;"><code>docker-compose config</code></td><td style="text-align:left;">验证并查看 Compose 文件</td></tr><tr><td style="text-align:left;"><code>docker-compose scale &lt;service_name&gt;=&lt;replica&gt;</code></td><td style="text-align:left;">为服务指定容器个数</td></tr><tr><td style="text-align:left;"><code>docker-compose top</code></td><td style="text-align:left;">显示正在运行的进程</td></tr><tr><td style="text-align:left;"><code>docker-compose run -rm -p 2022:22 web bash</code></td><td style="text-align:left;">启动 Web 服务并运行 bash 作为其命令，删除旧容器</td></tr></tbody></table><h3 id="docker-services" tabindex="-1">Docker Services <a class="header-anchor" href="#docker-services" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">:-</th><th style="text-align:left;">:-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>docker service create &lt;options&gt; &lt;image&gt; &lt;command&gt;</code></td><td style="text-align:left;">创建新服务</td></tr><tr><td style="text-align:left;"><code>docker service inspect --pretty &lt;service_name&gt;</code></td><td style="text-align:left;">显示详细信息服务</td></tr><tr><td style="text-align:left;"><code>docker service ls</code></td><td style="text-align:left;">列出服务</td></tr><tr><td style="text-align:left;"><code>docker service ps</code></td><td style="text-align:left;">列出服务的任务</td></tr><tr><td style="text-align:left;"><code>docker service scale &lt;service_name&gt;=&lt;replica&gt;</code></td><td style="text-align:left;">规模特殊服务</td></tr><tr><td style="text-align:left;"><code>docker service update &lt;options&gt; &lt;service_name&gt;</code></td><td style="text-align:left;">更新服务选项</td></tr></tbody></table><h3 id="docker-stack" tabindex="-1">Docker Stack <a class="header-anchor" href="#docker-stack" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">:-</th><th style="text-align:left;">:-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>docker stack ls</code></td><td style="text-align:left;">列出此 Docker 主机上所有正在运行的应用程序</td></tr><tr><td style="text-align:left;"><code>docker stack deploy -c &lt;composefile&gt; &lt;appname&gt;</code></td><td style="text-align:left;">运行指定的 Compose 文件</td></tr><tr><td style="text-align:left;"><code>docker stack services &lt;appname&gt;</code></td><td style="text-align:left;">列出与应用关联的服务</td></tr><tr><td style="text-align:left;"><code>docker stack ps &lt;appname&gt;</code></td><td style="text-align:left;">列出与应用关联的正在运行的容器</td></tr><tr><td style="text-align:left;"><code>docker stack rm &lt;appname&gt;</code></td><td style="text-align:left;">拆掉一个应用程序</td></tr></tbody></table><h3 id="docker-machine" tabindex="-1">Docker Machine <a class="header-anchor" href="#docker-machine" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">:-</th><th style="text-align:left;">:-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>docker-machine create --driver virtualbox myvm1</code></td><td style="text-align:left;">创建虚拟机（Mac、Win7、Linux）</td></tr><tr><td style="text-align:left;"><code>docker-machine create -d hyperv --hyperv-virtual-switch &quot;myswitch&quot; myvm1</code></td><td style="text-align:left;">Win10</td></tr><tr><td style="text-align:left;"><code>docker-machine env myvm1</code></td><td style="text-align:left;">查看有关您的节点的基本信息</td></tr><tr><td style="text-align:left;"><code>docker-machine ssh myvm1 &quot;docker node ls&quot;</code></td><td style="text-align:left;">列出集群中的节点</td></tr><tr><td style="text-align:left;"><code>docker-machine ssh myvm1 &quot;docker node inspect &lt;node ID&gt;&quot;</code></td><td style="text-align:left;">检查节点</td></tr><tr><td style="text-align:left;"><code>docker-machine ssh myvm1 &quot;docker swarm join-token -q worker&quot;</code></td><td style="text-align:left;">查看加入令牌</td></tr><tr><td style="text-align:left;"><code>docker-machine ssh myvm1</code></td><td style="text-align:left;">打开与 VM 的 SSH 会话； 输入“exit”结束</td></tr><tr><td style="text-align:left;"><code>docker-machine ssh myvm2 &quot;docker swarm leave&quot;</code></td><td style="text-align:left;">让工人离开群体</td></tr><tr><td style="text-align:left;"><code>docker-machine ssh myvm1 &quot;docker swarm leave -f&quot;</code></td><td style="text-align:left;">让主人离开，杀群</td></tr><tr><td style="text-align:left;"><code>docker-machine start myvm1</code></td><td style="text-align:left;">启动当前未运行的 VM</td></tr><tr><td style="text-align:left;"><code>docker-machine stop $(docker-machine ls -q)</code></td><td style="text-align:left;">停止所有正在运行的虚拟机</td></tr><tr><td style="text-align:left;"><code>docker-machine rm $(docker-machine ls -q)</code></td><td style="text-align:left;">删除所有虚拟机及其磁盘映像</td></tr><tr><td style="text-align:left;"><code>docker-machine scp docker-compose.yml myvm1:~</code></td><td style="text-align:left;">将文件复制到节点的主目录</td></tr><tr><td style="text-align:left;"><code>docker-machine ssh myvm1 &quot;docker stack deploy -c &lt;file&gt; &lt;app&gt;&quot;</code></td><td style="text-align:left;">部署应用</td></tr></tbody></table><h3 id="docker-主要命令" tabindex="-1">docker 主要命令 <a class="header-anchor" href="#docker-主要命令" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">:-</th><th style="text-align:left;">:-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>attach</code></td><td style="text-align:left;">将本地标准输入、输出和错误流附加到正在运行的容器</td></tr><tr><td style="text-align:left;"><code>build</code></td><td style="text-align:left;">从 Dockerfile 构建镜像</td></tr><tr><td style="text-align:left;"><code>commit</code></td><td style="text-align:left;">从容器的更改创建新镜像</td></tr><tr><td style="text-align:left;"><code>cp</code></td><td style="text-align:left;">在容器和本地文件系统之间复制文件/文件夹</td></tr><tr><td style="text-align:left;"><code>create</code></td><td style="text-align:left;">创建一个新容器</td></tr><tr><td style="text-align:left;"><code>diff</code></td><td style="text-align:left;">检查容器文件系统上文件或目录的更改</td></tr><tr><td style="text-align:left;"><code>events</code></td><td style="text-align:left;">从服务器获取实时事件</td></tr><tr><td style="text-align:left;"><code>exec</code></td><td style="text-align:left;">在正在运行的容器中运行命令</td></tr><tr><td style="text-align:left;"><code>export</code></td><td style="text-align:left;">将容器的文件系统导出为 tar 存档</td></tr><tr><td style="text-align:left;"><code>history</code></td><td style="text-align:left;">显示镜像的历史</td></tr><tr><td style="text-align:left;"><code>images</code></td><td style="text-align:left;">列出镜像</td></tr><tr><td style="text-align:left;"><code>import</code></td><td style="text-align:left;">从 tarball 导入内容以创建文件系统映像</td></tr><tr><td style="text-align:left;"><code>info</code></td><td style="text-align:left;">显示系统范围的信息</td></tr><tr><td style="text-align:left;"><code>inspect</code></td><td style="text-align:left;">返回有关 Docker 对象的低级信息</td></tr><tr><td style="text-align:left;"><code>kill</code></td><td style="text-align:left;">杀死一个或多个正在运行的容器</td></tr><tr><td style="text-align:left;"><code>load</code></td><td style="text-align:left;">从 tar 存档或 STDIN 加载镜像</td></tr><tr><td style="text-align:left;"><code>login</code></td><td style="text-align:left;">登录到 Docker 注册表</td></tr><tr><td style="text-align:left;"><code>logout</code></td><td style="text-align:left;">从 Docker 注册表中注销</td></tr><tr><td style="text-align:left;"><code>logs</code></td><td style="text-align:left;">获取容器的日志</td></tr><tr><td style="text-align:left;"><code>pause</code></td><td style="text-align:left;">暂停一个或多个容器内的所有进程</td></tr><tr><td style="text-align:left;"><code>port</code></td><td style="text-align:left;">列出容器的端口映射或特定映射</td></tr><tr><td style="text-align:left;"><code>ps</code></td><td style="text-align:left;">列出容器</td></tr><tr><td style="text-align:left;"><code>pull</code></td><td style="text-align:left;">从注册表中提取镜像或存储库</td></tr><tr><td style="text-align:left;"><code>push</code></td><td style="text-align:left;">将镜像或存储库推送到注册表</td></tr><tr><td style="text-align:left;"><code>rename</code></td><td style="text-align:left;">重命名容器</td></tr><tr><td style="text-align:left;"><code>restart</code></td><td style="text-align:left;">重启一个或多个容器</td></tr><tr><td style="text-align:left;"><code>rm</code></td><td style="text-align:left;">移除一个或多个容器</td></tr><tr><td style="text-align:left;"><code>rmi</code></td><td style="text-align:left;">移除一张或多张镜像</td></tr><tr><td style="text-align:left;"><code>run</code></td><td style="text-align:left;">在新容器中运行命令</td></tr><tr><td style="text-align:left;"><code>save</code></td><td style="text-align:left;">将一个或多个镜像保存到 tar 存档（默认流式传输到 STDOUT）</td></tr><tr><td style="text-align:left;"><code>search</code></td><td style="text-align:left;">在 <code>Docker Hub</code> 中搜索镜像</td></tr><tr><td style="text-align:left;"><code>start</code></td><td style="text-align:left;">启动一个或多个停止的容器</td></tr><tr><td style="text-align:left;"><code>stats</code></td><td style="text-align:left;">显示容器资源使用统计的实时流</td></tr><tr><td style="text-align:left;"><code>stop</code></td><td style="text-align:left;">停止一个或多个正在运行的容器</td></tr><tr><td style="text-align:left;"><code>tag</code></td><td style="text-align:left;">创建一个引用 SOURCE_IMAGE 的标记 TARGET_IMAGE</td></tr><tr><td style="text-align:left;"><code>top</code></td><td style="text-align:left;">显示容器的运行进程</td></tr><tr><td style="text-align:left;"><code>unpause</code></td><td style="text-align:left;">取消暂停一个或多个容器中的所有进程</td></tr><tr><td style="text-align:left;"><code>update</code></td><td style="text-align:left;">更新一个或多个容器的配置</td></tr><tr><td style="text-align:left;"><code>version</code></td><td style="text-align:left;">显示 Docker 版本信息</td></tr><tr><td style="text-align:left;"><code>wait</code></td><td style="text-align:left;">阻塞直到一个或多个容器停止，然后打印它们的退出代码</td></tr></tbody></table><h3 id="docker-run-create" tabindex="-1">docker run/create <a class="header-anchor" href="#docker-run-create" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--add-host</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 添加自定义主机到 IP 映射 (host:ip)</span></span>
<span class="line"><span style="color:#FFCB6B;">-a,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--attach</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 连接到 STDIN、STDOUT 或 STDERR</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--blkio-weight</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uint16</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 块 IO（相对权重），介于 10 和 1000 之间，或 0 禁用（默认 0）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--blkio-weight-device</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 块 IO 权重（相对设备权重）（默认 []）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cap-add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 添加 Linux 功能</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cap-drop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 放弃 Linux 功能</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cgroup-parent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 容器的可选父 cgroup</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cgroupns</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 要使用的 Cgroup 命名空间（主机|私有）</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;">#  &#39;host&#39;:    在 Docker 主机的 cgroup 命名空间中运行容器</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;">#  &#39;private&#39;: 在自己的私有 cgroup 命名空间中运行容器</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;">#  &#39;&#39;:        使用由守护进程上的 </span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;">#        default-cgroupns-mode 选项配置的 cgroup 命名空间（默认）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cidfile</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 将容器 ID 写入文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cpu-period</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 限制 CPU CFS（完全公平调度器）周期</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cpu-quota</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 限制 CPU CFS（完全公平调度器）配额</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cpu-rt-period</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 以微秒为单位限制 CPU 实时周期</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cpu-rt-runtime</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 以微秒为单位限制 CPU 实时运行时间</span></span>
<span class="line"><span style="color:#FFCB6B;">-c,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--cpu-shares</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># CPU 份额（相对权重）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cpus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">decimal</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># CPU 数量</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cpuset-cpus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 允许执行的 CPU (0-3, 0,1)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--cpuset-mems</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 允许执行的 MEM (0-3, 0,1)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--device</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 将主机设备添加到容器</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--device-cgroup-rule</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 将规则添加到 cgroup 允许的设备列表</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--device-</span><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">-bps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 限制设备的读取速率（每秒字节数）（默认 []）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--device-</span><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">-iops</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 限制设备的读取速率（每秒 IO）（默认 []）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--device-write-bps</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 限制设备的写入速率（每秒字节数）（默认 []）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--device-write-iops</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 限制设备的写入速率（每秒 IO）（默认 []）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--disable-content-trust</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 跳过镜像验证（默认为 true）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--dns</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 设置自定义 DNS 服务器</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--dns-option</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 设置 DNS 选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--dns-search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 设置自定义 DNS 搜索域</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--domainname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 容器 NIS 域名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--entrypoint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 覆盖镜像的默认入口点</span></span>
<span class="line"><span style="color:#FFCB6B;">-e,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">                 </span><span style="color:#676E95;font-style:italic;"># 设置环境变量</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--env-file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 读入环境变量文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--expose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 公开一个端口或一系列端口</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--gpus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gpu-request</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 要添加到容器中的 GPU 设备（“全部”以传递所有 GPU）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--group-add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 添加其他组以加入</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--health-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 运行以检查运行状况的命令</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--health-interval</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">duration</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 运行检查之间的时间 (ms|s|m|h) (默认 0s)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--health-retries</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 需要报告不健康的连续失败</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--health-start-period</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">duration</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 开始健康重试倒计时之前容器初始化的开始时间（ms|s|m|h）（默认 0s）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--health-timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">duration</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 允许运行一项检查的最长时间 (ms|s|m|h) (默认 0s)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--help</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 打印使用</span></span>
<span class="line"><span style="color:#FFCB6B;">-h,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--hostname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 容器主机名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--init</span><span style="color:#A6ACCD;">                     </span><span style="color:#676E95;font-style:italic;"># 在容器内运行一个 init 来转发信号并收获进程</span></span>
<span class="line"><span style="color:#FFCB6B;">-i,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--interactive</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 即使没有连接，也保持 STDIN 打开</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># IPv4 地址（例如 172.30.100.104）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--ip6</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># IPv6 地址（例如，2001:db8::33）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--ipc</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 要使用的 IPC 模式</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--isolation</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 容器隔离技术</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--kernel-memory</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;"># 内核内存限制</span></span>
<span class="line"><span style="color:#FFCB6B;">-l,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--label</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 在容器上设置元数据</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--label-file</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 读入以行分隔的标签文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--link</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 添加到另一个容器的链接</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--link-local-ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 容器 IPv4/IPv6 链路本地地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--log-driver</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 容器的日志记录驱动程序</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--log-opt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 日志驱动程序选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--mac-address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 容器 MAC 地址（例如 92:d0:c6:0a:29:33）</span></span>
<span class="line"><span style="color:#FFCB6B;">-m,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--memory</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 内存限制</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--memory-reservation</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 内存软限制</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--memory-swap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 交换限制等于内存加上交换：&#39;-1&#39; 启用无限交换</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--memory-swappiness</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 调整容器内存交换（0 到 100）（默认 -1）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--mount</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mount</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 将文件系统挂载附加到容器</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 为容器分配名称</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 将容器连接到网络</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--network-</span><span style="color:#82AAFF;">alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 为容器添加网络范围的别名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--no-healthcheck</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 禁用任何容器指定的 HEALTHCHECK</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--oom-</span><span style="color:#82AAFF;">kill</span><span style="color:#FFCB6B;">-disable</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 禁用 OOM 杀手</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--oom-score-adj</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 调整主机的 OOM 首选项（-1000 到 1000）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--pid</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 要使用的 PID 命名空间</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--pids-limit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 调整容器 pids 限制（设置 -1 表示无限制）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--platform</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">          </span><span style="color:#676E95;font-style:italic;"># 如果服务器支持多平台，则设置平台</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--privileged</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 授予此容器扩展权限</span></span>
<span class="line"><span style="color:#FFCB6B;">-p,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--publish</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 将容器的端口发布到主机</span></span>
<span class="line"><span style="color:#FFCB6B;">-P,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--publish-all</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 将所有暴露的端口发布到随机端口</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 创建前拉取镜像(&quot;always&quot;|&quot;missing&quot;|&quot;never&quot;)(默认&quot;missing&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--</span><span style="color:#82AAFF;">read</span><span style="color:#FFCB6B;">-only</span><span style="color:#A6ACCD;">                </span><span style="color:#676E95;font-style:italic;"># 将容器的根文件系统挂载为只读</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 容器退出时应用的重启策略（默认“否”）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--rm</span><span style="color:#A6ACCD;">                       </span><span style="color:#676E95;font-style:italic;"># 容器退出时自动移除</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--runtime</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 用于此容器的运行时</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--security-opt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 安全选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--shm-size</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># /dev/shm 的大小</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--stop-signal</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;"># 停止容器的信号（默认“SIGTERM”）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--stop-timeout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">int</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 停止容器的超时（以秒为单位）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--storage-opt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 容器的存储驱动程序选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--sysctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">map</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># Sysctl 选项（默认 map[]）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--tmpfs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 挂载 tmpfs 目录</span></span>
<span class="line"><span style="color:#FFCB6B;">-t,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--tty</span><span style="color:#A6ACCD;">                      </span><span style="color:#676E95;font-style:italic;"># 分配一个伪 TTY</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--</span><span style="color:#82AAFF;">ulimit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ulimit</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># ulimit 选项（默认 []）</span></span>
<span class="line"><span style="color:#FFCB6B;">-u,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--user</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 用户名或 UID（格式：&lt;name|uid&gt;[:&lt;group|gid&gt;]）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--userns</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;font-style:italic;"># 要使用的用户命名空间</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--uts</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 要使用的 UTS 命名空间</span></span>
<span class="line"><span style="color:#FFCB6B;">-v,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--volume</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># 绑定挂载卷</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--volume-driver</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 容器的可选卷驱动程序</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--volumes-from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 从指定容器挂载卷</span></span>
<span class="line"><span style="color:#FFCB6B;">-w,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--workdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 容器内的工作目录</span></span>
<span class="line"></span></code></pre></div><p><code>run</code>/<code>create</code> 大部分参数一致</p><h3 id="docker-全局参数" tabindex="-1">docker 全局参数 <a class="header-anchor" href="#docker-全局参数" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># 客户端配置文件的位置（默认“~/.docker”）</span></span>
<span class="line"><span style="color:#FFCB6B;">-c,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--context</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 用于连接到守护程序的上下文的名称（</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;"># 覆盖 DOCKER_HOST 环境变量和使用“docker context use”设置的默认上下文）</span></span>
<span class="line"><span style="color:#FFCB6B;">-D,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--debug</span><span style="color:#A6ACCD;">             </span><span style="color:#676E95;font-style:italic;"># 启用调试模式</span></span>
<span class="line"><span style="color:#FFCB6B;">-H,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--host</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 要连接的守护进程套接字</span></span>
<span class="line"><span style="color:#FFCB6B;">-l,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--log-level</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 设置日志级别(&quot;debug&quot;\\|&quot;info&quot;\\|&quot;warn&quot;\\|&quot;error&quot;\\|&quot;fatal&quot;) （默认“info”）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--tls</span><span style="color:#A6ACCD;">               </span><span style="color:#676E95;font-style:italic;"># 使用 TLS； 由 --tlsverify 暗示</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--tlscacert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 仅由该 CA 签署的信任证书（默认为“~/.docker/ca.pem”）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--tlscert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># TLS证书文件路径（默认“~/.docker/cert.pem”）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--tlskey</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;"># TLS 密钥文件的路径（默认为“~/.docker/key.pem”）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--tlsverify</span><span style="color:#A6ACCD;">         </span><span style="color:#676E95;font-style:italic;"># 使用 TLS 并验证远程</span></span>
<span class="line"><span style="color:#FFCB6B;">-v,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#A6ACCD;">           </span><span style="color:#676E95;font-style:italic;"># 打印版本信息并退出</span></span>
<span class="line"></span></code></pre></div><h3 id="docker-管理命令" tabindex="-1">docker 管理命令 <a class="header-anchor" href="#docker-管理命令" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">:-</th><th style="text-align:left;">:-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>docker builder</code></td><td style="text-align:left;">管理构建</td></tr><tr><td style="text-align:left;"><code>docker buildx*</code></td><td style="text-align:left;">Docker Buildx（Docker Inc.，v0.7.1）</td></tr><tr><td style="text-align:left;"><code>docker compose*</code></td><td style="text-align:left;">Docker Compose（Docker Inc.，v2.2.3）</td></tr><tr><td style="text-align:left;"><code>docker config</code></td><td style="text-align:left;">管理 Docker 配置</td></tr><tr><td style="text-align:left;"><code>docker container</code></td><td style="text-align:left;">管理容器</td></tr><tr><td style="text-align:left;"><code>docker context</code></td><td style="text-align:left;">管理上下文</td></tr><tr><td style="text-align:left;"><code>docker image</code></td><td style="text-align:left;">管理镜像</td></tr><tr><td style="text-align:left;"><code>docker manifest</code></td><td style="text-align:left;">管理 Docker 镜像清单和清单列表</td></tr><tr><td style="text-align:left;"><code>docker network</code></td><td style="text-align:left;">管理网络</td></tr><tr><td style="text-align:left;"><code>docker node</code></td><td style="text-align:left;">管理 Swarm 节点</td></tr><tr><td style="text-align:left;"><code>docker plugin</code></td><td style="text-align:left;">管理插件</td></tr><tr><td style="text-align:left;"><code>docker scan*</code></td><td style="text-align:left;">Docker 扫描（Docker Inc.，v0.16.0）</td></tr><tr><td style="text-align:left;"><code>docker secret</code></td><td style="text-align:left;">管理 Docker 机密</td></tr><tr><td style="text-align:left;"><code>docker service</code></td><td style="text-align:left;">管理服务</td></tr><tr><td style="text-align:left;"><code>docker stack</code></td><td style="text-align:left;">管理 Docker 堆栈</td></tr><tr><td style="text-align:left;"><code>docker swarm</code></td><td style="text-align:left;">管理群</td></tr><tr><td style="text-align:left;"><code>docker system</code></td><td style="text-align:left;">管理 Docker</td></tr><tr><td style="text-align:left;"><code>docker trust</code></td><td style="text-align:left;">管理对 Docker 映像的信任</td></tr><tr><td style="text-align:left;"><code>docker volume</code></td><td style="text-align:left;">管理卷</td></tr></tbody></table><h3 id="docker-images" tabindex="-1">docker images <a class="header-anchor" href="#docker-images" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">-a,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--all</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">显示所有镜像（默认隐藏中间镜像）</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--digests</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">显示摘要</span></span>
<span class="line"><span style="color:#FFCB6B;">-f,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--filter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filter</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">根据提供的条件过滤输出</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--format</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">string</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">使用</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">模板打印漂亮的镜像</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">--no-trunc</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">不要截断输出</span></span>
<span class="line"><span style="color:#FFCB6B;">-q,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--quiet</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">仅显示镜像</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ID</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-示例" tabindex="-1">Docker 示例 <a class="header-anchor" href="#docker-示例" aria-hidden="true">#</a></h2><h3 id="docker-web-管理工具-portainer" tabindex="-1">Docker Web 管理工具 portainer <a class="header-anchor" href="#docker-web-管理工具-portainer" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">portainer</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8000</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8000</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9443</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">9443</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--restart=always</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/run/docker.sock:/var/run/docker.sock</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/portainer:/data</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">portainer/portainer-ee:latest</span></span>
<span class="line"></span></code></pre></div><h3 id="在线代码编辑器-code-server" tabindex="-1">在线代码编辑器 Code Server <a class="header-anchor" href="#在线代码编辑器-code-server" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.config</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">code-server</span><span style="color:#A6ACCD;">  \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">127.0.0.1:</span><span style="color:#F78C6C;">8080</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8080</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/.config/code-server:/home/coder/.config</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$PWD</span><span style="color:#C3E88D;">:/home/coder/project</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">id</span><span style="color:#C3E88D;"> -u</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">id</span><span style="color:#C3E88D;"> -g</span><span style="color:#89DDFF;">)&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DOCKER_USER=</span><span style="color:#A6ACCD;">$USER</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">codercom/code-server:latest</span></span>
<span class="line"></span></code></pre></div><h3 id="mysql" tabindex="-1">MySQL <a class="header-anchor" href="#mysql" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3306</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">3306</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/mysql/conf.d:/etc/mysql/conf.d</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/mysql/data:/var/lib/mysql</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/localtime:/etc/localtime:ro</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MYSQL_ROOT_PASSWORD=</span><span style="color:#F78C6C;">123456</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql:5.7.23</span></span>
<span class="line"></span></code></pre></div><h3 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">myredis</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/redis/conf:/usr/local/etc/redis</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/localtime:/etc/localtime:ro</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">redis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis-server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/etc/redis/redis.conf</span></span>
<span class="line"></span></code></pre></div><h3 id="nginx" tabindex="-1">Nginx <a class="header-anchor" href="#nginx" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-nginx</span><span style="color:#A6ACCD;"> \\ </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/nginx/html:/usr/share/nginx/html:ro</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8080</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span></code></pre></div><h3 id="postgresql" tabindex="-1">PostgreSQL <a class="header-anchor" href="#postgresql" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-postgres</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">POSTGRES_PASSWORD=mysecretpassword</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PGDATA=/var/lib/postgresql/data/pgdata</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/nginx/mount:/var/lib/postgresql/data</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">postgres</span></span>
<span class="line"></span></code></pre></div><h3 id="媒体管理工具-dim" tabindex="-1">媒体管理工具 Dim <a class="header-anchor" href="#媒体管理工具-dim" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-dim</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8000</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">8000</span><span style="color:#C3E88D;">/tcp</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/.config/dim:/opt/dim/config</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/dim/media:/media:ro</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ghcr.io/dusk-labs/dim:dev</span></span>
<span class="line"></span></code></pre></div><p><a href="https://github.com/Dusk-Labs/dim" target="_blank" rel="noreferrer">Github</a></p><h3 id="gitlab" tabindex="-1">Gitlab <a class="header-anchor" href="#gitlab" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gitlab</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--hostname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gitlab.example.com</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--publish</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8443</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">443</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--publish</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8081</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2222</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--volume</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/gitlab/config:/etc/gitlab</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--volume</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/gitlab/logs:/var/log/gitlab</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--volume</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/gitlab/data:/var/opt/gitlab</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/localtime:/etc/localtime</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--shm-size</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">256m</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">gitlab/gitlab-ce:latest</span></span>
<span class="line"></span></code></pre></div><h2 id="另见" tabindex="-1">另见 <a class="header-anchor" href="#另见" aria-hidden="true">#</a></h2><ul><li><a href="https://github.com/jaywcjlove/reference/" target="_blank" rel="noreferrer">文章来源 </a> <em>(docker.com)</em></li><li><a href="https://docs.docker.com/get-started/" target="_blank" rel="noreferrer">Docker 官方入门教程</a> <em>(docker.com)</em></li><li><a href="https://jaywcjlove.github.io/docker-tutorial" target="_blank" rel="noreferrer">Docker入门学习笔记</a> <em>(github.io)</em></li></ul>`,118),o=[e];function p(c,r,C,y,d,i){return a(),l("div",null,o)}const h=s(t,[["render",p]]);export{D as __pageData,h as default};
