import{_ as t,c as e,o as s,d as l}from"./app.0fdc3d94.js";const A=JSON.parse('{"title":"Ansible 备忘清单","description":"","frontmatter":{},"headers":[{"level":2,"title":"入门","slug":"入门","link":"#入门","children":[{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":3,"title":"配置位置","slug":"配置位置","link":"#配置位置","children":[]},{"level":3,"title":"Inventory文件(hosts列表)","slug":"inventory文件-hosts列表","link":"#inventory文件-hosts列表","children":[]},{"level":3,"title":"Inventory 主机组使用多个IP和域名","slug":"inventory-主机组使用多个ip和域名","link":"#inventory-主机组使用多个ip和域名","children":[]},{"level":3,"title":"Inventory 主机组使用子主机组","slug":"inventory-主机组使用子主机组","link":"#inventory-主机组使用子主机组","children":[]},{"level":3,"title":"给多台主机设置变量","slug":"给多台主机设置变量","link":"#给多台主机设置变量","children":[]}]},{"level":2,"title":"命令行(ad-hoc)","slug":"命令行-ad-hoc","link":"#命令行-ad-hoc","children":[{"level":3,"title":"ansible","slug":"ansible","link":"#ansible","children":[]},{"level":3,"title":"Ansible 命令帮助","slug":"ansible-命令帮助","link":"#ansible-命令帮助","children":[]},{"level":3,"title":"Ansible Galaxy 工具","slug":"ansible-galaxy-工具","link":"#ansible-galaxy-工具","children":[]},{"level":3,"title":"ansible-doc","slug":"ansible-doc","link":"#ansible-doc","children":[]},{"level":3,"title":"ansible-vault","slug":"ansible-vault","link":"#ansible-vault","children":[]},{"level":3,"title":"ansible-playbook","slug":"ansible-playbook","link":"#ansible-playbook","children":[]},{"level":3,"title":"ansible-pull","slug":"ansible-pull","link":"#ansible-pull","children":[]}]},{"level":2,"title":"另见","slug":"另见","link":"#另见","children":[]}],"relativePath":"quickref/ansible/index.md"}'),a={name:"quickref/ansible/index.md"},o=l(`<h1 id="ansible-备忘清单" tabindex="-1">Ansible 备忘清单 <a class="header-anchor" href="#ansible-备忘清单" aria-hidden="true">#</a></h1><p>此快速参考备忘单提供了使用 <a href="https://ansible.com" target="_blank" rel="noreferrer">Ansible</a> 的各种方法。</p><h2 id="入门" tabindex="-1">入门 <a class="header-anchor" href="#入门" aria-hidden="true">#</a></h2><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">安装命令</th><th>环境</th></tr></thead><tbody><tr><td style="text-align:left;"><code>brew install ansible</code></td><td>macos</td></tr><tr><td style="text-align:left;"><code>yum install -y ansible</code></td><td>centos</td></tr><tr><td style="text-align:left;"><code>pip install ansible</code></td><td>python</td></tr></tbody></table><hr><ul><li><a href="https://docs.ansible.com" target="_blank" rel="noreferrer">Ansible 官方文档</a></li></ul><h3 id="配置位置" tabindex="-1">配置位置 <a class="header-anchor" href="#配置位置" aria-hidden="true">#</a></h3><table><thead><tr><th style="text-align:left;">文件路径</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>/etc/ansible/ansible.cfg</code></td><td>系统范围的配置</td></tr><tr><td style="text-align:left;"><code>~/ansible.cfg</code></td><td>用户特定的配置</td></tr><tr><td style="text-align:left;"><code>$pwd/ansible.cfg</code></td><td>当前目录下的配置</td></tr></tbody></table><p>配置文件优先级</p><ul><li>如果没有任何其他配置文件，默认使用 <code>/etc/ansible/ansible.cfg</code></li><li><code>~/.ansible.cfg</code> <code>家</code>目录下的 <code>.ansible.cfg</code></li><li>当前目录下的 <code>ansible.cfg</code>，即在同一目录下 <code>ansible.cfg</code> 优先级高于 <code>~/.ansible.cfg</code></li><li>环境变量 <code>exoport ANSIBLE_CONFIG=/$DIR/ansible.cfg</code></li></ul><p>查看正在使用的 <code>ansible</code> 配置文件：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">config file</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="inventory文件-hosts列表" tabindex="-1">Inventory文件(hosts列表) <a class="header-anchor" href="#inventory文件-hosts列表" aria-hidden="true">#</a></h3><h4 id="静态inventory" tabindex="-1">静态Inventory <a class="header-anchor" href="#静态inventory" aria-hidden="true">#</a></h4><p><code>/etc/ansible/hosts</code></p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">mail.example.com</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[webservers]</span></span>
<span class="line"><span style="color:#A6ACCD;">foo.example.com</span></span>
<span class="line"><span style="color:#A6ACCD;">bar.example.com</span></span>
<span class="line"></span></code></pre></div><h3 id="inventory-主机组使用多个ip和域名" tabindex="-1">Inventory 主机组使用多个IP和域名 <a class="header-anchor" href="#inventory-主机组使用多个ip和域名" aria-hidden="true">#</a></h3><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[web]</span></span>
<span class="line"><span style="color:#A6ACCD;">172.18.12.5[1:4]</span></span>
<span class="line"><span style="color:#89DDFF;">[webservers]</span></span>
<span class="line"><span style="color:#A6ACCD;">www[01:50].example.com</span></span>
<span class="line"></span></code></pre></div><h3 id="inventory-主机组使用子主机组" tabindex="-1">Inventory 主机组使用子主机组 <a class="header-anchor" href="#inventory-主机组使用子主机组" aria-hidden="true">#</a></h3><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[usa:children]</span></span>
<span class="line"><span style="color:#A6ACCD;">southeast</span></span>
<span class="line"><span style="color:#A6ACCD;">northeast</span></span>
<span class="line"><span style="color:#A6ACCD;">southwest</span></span>
<span class="line"><span style="color:#A6ACCD;">northwest</span></span>
<span class="line"></span></code></pre></div><h3 id="给多台主机设置变量" tabindex="-1">给多台主机设置变量 <a class="header-anchor" href="#给多台主机设置变量" aria-hidden="true">#</a></h3><p><code>group variables</code> 如果组中的所有主机共享一个变量值，则可以一次将该变量应用于整个组</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[atlanta]</span></span>
<span class="line"><span style="color:#A6ACCD;">host1</span></span>
<span class="line"><span style="color:#A6ACCD;">host2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[atlanta:vars]</span></span>
<span class="line"><span style="color:#F07178;">ntp_server</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">ntp.atlanta.example.com</span></span>
<span class="line"><span style="color:#F07178;">proxy</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">proxy.atlanta.example.com</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="命令行-ad-hoc" tabindex="-1">命令行(ad-hoc) <a class="header-anchor" href="#命令行-ad-hoc" aria-hidden="true">#</a></h2><h3 id="ansible" tabindex="-1">ansible <a class="header-anchor" href="#ansible" aria-hidden="true">#</a></h3><p>检查Inventory是否生效</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--list-hosts</span></span>
<span class="line"></span></code></pre></div><p>ping所有目标</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ping</span></span>
<span class="line"></span></code></pre></div><p>ping本地(不使用SSH连接)</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;ansible_connection&quot;: &quot;local&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ping</span></span>
<span class="line"></span></code></pre></div><p>本地执行命令</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;ansible_connection&quot;: &quot;local&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hostname</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>获取本地主机的信息</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;ansible_connection&quot;: &quot;local&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span></span>
<span class="line"></span></code></pre></div><p>获取远程到本地</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">target</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fetch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src=/tmp/seq dest=/tmp/seq</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>拷贝本地到远程</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">target</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">copy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src=/tmp/seq dest=/tmp/seq</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="ansible-命令帮助" tabindex="-1">Ansible 命令帮助 <a class="header-anchor" href="#ansible-命令帮助" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">host-patter</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-a MODULE_ARGS</code>, <code>--args=MODULE_ARGS</code></td><td>模块参数</td></tr><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-B SECONDS</code>, <code>--background=SECONDS</code></td><td>异步运行，X 秒后失败 (默认=N/A)</td></tr><tr><td style="text-align:left;"><code>-C</code>, <code>--check</code></td><td>不要做任何改变；相反，尝试预测可能发生的一些变化</td></tr><tr><td style="text-align:left;"><code>-D</code>, <code>--diff</code></td><td>更改(小)文件和模板时，显示这些文件中的差异； 与 <code>--check</code> 配合使用效果很好</td></tr><tr><td style="text-align:left;"><code>-e EXTRA_VARS</code>, <code>--extra-vars=EXTRA_VARS</code></td><td>将附加变量设置为 key=value 或 YAML/JSON</td></tr><tr><td style="text-align:left;"><code>-f FORKS</code>, <code>--forks=FORKS</code></td><td>指定要使用的并行进程数 (default=5)</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-i INVENTORY</code>, <code>--inventory-file=INVENTORY</code></td><td>指定清单主机路径(默认=/etc/ansible/hosts)或逗号分隔的主机列表</td></tr><tr><td style="text-align:left;"><code>-l SUBSET</code>, <code>--limit=SUBSET</code></td><td>进一步将选定主机限制为其他模式</td></tr><tr><td style="text-align:left;"><code>--list-hosts</code></td><td>输出匹配主机列表；不执行任何其他操作</td></tr><tr><td style="text-align:left;"><code>-m MODULE_NAME</code>, <code>--module-name=MODULE_NAME</code></td><td>要执行的模块名称 (default=command)</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径 (default=None)</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>-o</code>, <code>--one-line</code></td><td>压缩输出</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名； 使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>-P POLL_INTERVAL</code>, <code>--poll=POLL_INTERVAL</code></td><td>如果使用 -B 则设置轮询间隔(default=15)</td></tr><tr><td style="text-align:left;"><code>--syntax-check</code></td><td>对 playbook 执行语法检查，但不要执行它</td></tr><tr><td style="text-align:left;"><code>-t TREE</code>, <code>--tree=TREE</code></td><td>将输出记录到此目录</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><p>控制谁以及如何连接到主机，连接选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-k</code>, <code>--ask-pass</code></td><td>询问连接密码</td></tr><tr><td style="text-align:left;"><code>--private-key=PRIVATE_KEY_FILE</code>, <code>--key-file=PRIVATE_KEY_FILE</code></td><td>使用此文件来验证连接</td></tr><tr><td style="text-align:left;"><code>-u REMOTE_USER</code>, <code>--user=REMOTE_USER</code></td><td>以此用户身份连接(default=None)</td></tr><tr><td style="text-align:left;"><code>-c CONNECTION</code>, <code>--connection=CONNECTION</code></td><td>要使用的连接类型 (default=smart)</td></tr><tr><td style="text-align:left;"><code>-T TIMEOUT</code>, <code>--timeout=TIMEOUT</code></td><td>以秒为单位覆盖连接超时 (default=10)</td></tr><tr><td style="text-align:left;"><code>--ssh-common-args=SSH_COMMON_ARGS</code></td><td>指定要传递给 sftp/scp/ssh 的常用参数 (e.g. ProxyCommand)</td></tr><tr><td style="text-align:left;"><code>--sftp-extra-args=SFTP_EXTRA_ARGS</code></td><td>指定仅传递给 sftp 的额外参数 (e.g. -f, -l)</td></tr><tr><td style="text-align:left;"><code>--scp-extra-args=SCP_EXTRA_ARGS</code></td><td>指定仅传递给 <code>scp</code> 的额外参数 (e.g. -l)</td></tr><tr><td style="text-align:left;"><code>--ssh-extra-args=SSH_EXTRA_ARGS</code></td><td>指定仅传递给 <code>ssh</code> 的额外参数 (e.g. -R)</td></tr></tbody></table><p>控制您成为目标主机上的用户的方式和用户，特权升级选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-s</code>, <code>--sudo</code></td><td>使用 sudo (nopasswd) 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-U SUDO_USER</code>, <code>--sudo-user=SUDO_USER</code></td><td>所需的 sudo 用户(默认=root)(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-S</code>, <code>--su</code></td><td>使用 su 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-R SU_USER</code>, <code>--su-user=SU_USER</code></td><td>以该用户身份使用 su 运行操作(默认 = root)(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-b</code>, <code>--become</code></td><td>使用 become 运行操作(不暗示密码提示)</td></tr><tr><td style="text-align:left;"><code>--become-method=BECOME_METHOD</code></td><td>要使用的权限提升方法(默认=sudo)，有效选择：[ sudo</td></tr><tr><td style="text-align:left;"><code>--become-user=BECOME_USER</code></td><td>以该用户身份运行操作(默认=root)</td></tr><tr><td style="text-align:left;"><code>--ask-sudo-pass</code></td><td>询问 sudo 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>--ask-su-pass</code></td><td>询问 su 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-K</code>, <code>--ask-become-pass</code></td><td>要求提权密码</td></tr></tbody></table><h3 id="ansible-galaxy-工具" tabindex="-1">Ansible Galaxy 工具 <a class="header-anchor" href="#ansible-galaxy-工具" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">delete</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">import</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">info</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">init</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">install</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">login</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">remove</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">search</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">setup</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--help</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><hr><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--author</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">AUTHO</span><span style="color:#A6ACCD;">R</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--platforms</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">PLATFOR</span><span style="color:#A6ACCD;">M</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">search</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--galaxy-tags</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">TA</span><span style="color:#A6ACCD;">G</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">info</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE_DIRECTOR</span><span style="color:#A6ACCD;">Y</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE</span><span style="color:#89DDFF;">1&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE</span><span style="color:#89DDFF;">2&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROLE</span><span style="color:#89DDFF;">3&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-galaxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--offline</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">ROL</span><span style="color:#A6ACCD;">E</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="ansible-doc" tabindex="-1">ansible-doc <a class="header-anchor" href="#ansible-doc" aria-hidden="true">#</a></h3><p>在本地访问文档</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-doc</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-doc</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">module...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-l</code>, <code>--list</code></td><td>列出可用模块</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径 (default=None)</td></tr><tr><td style="text-align:left;"><code>-s</code>, <code>--snippet</code></td><td>显示指定模块的剧本片段</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><h3 id="ansible-vault" tabindex="-1">ansible-vault <a class="header-anchor" href="#ansible-vault" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-vault</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-vault</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">create</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">decrypt</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">edit</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">encrypt</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">rekey</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">view</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--help</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vaultfile.yml</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名； 使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><h3 id="ansible-playbook" tabindex="-1">ansible-playbook <a class="header-anchor" href="#ansible-playbook" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-playbook</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-playbook</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">playbook.yml</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-C</code>, <code>--check</code></td><td>不要做任何改变；相反，尝试预测可能发生的一些变化</td></tr><tr><td style="text-align:left;"><code>-D</code>, <code>--diff</code></td><td>更改（小）文件和模板时，显示这些文件中的差异；与 <code>--check</code> 配合使用效果很好</td></tr><tr><td style="text-align:left;"><code>-e EXTRA_VARS</code>, <code>--extra-vars=EXTRA_VARS</code></td><td>将附加变量设置为 key=value 或 YAML/JSON</td></tr><tr><td style="text-align:left;"><code>--flush-cache</code></td><td>清除事实缓存</td></tr><tr><td style="text-align:left;"><code>--force-handlers</code></td><td>即使任务失败也运行处理程序</td></tr><tr><td style="text-align:left;"><code>-f FORKS</code>, <code>--forks=FORKS</code></td><td>指定要使用的并行进程数（默认值=5）</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-i INVENTORY</code>, <code>--inventory-file=INVENTORY</code></td><td>指定清单主机路径（默认=/etc/ansible/hosts）或逗号分隔的主机列表</td></tr><tr><td style="text-align:left;"><code>-l SUBSET</code>, <code>--limit=SUBSET</code></td><td>进一步将选定主机限制为其他模式</td></tr><tr><td style="text-align:left;"><code>--list-hosts</code></td><td>输出匹配主机列表；不执行任何其他操作</td></tr><tr><td style="text-align:left;"><code>--list-tags</code></td><td>列出所有可用的标签</td></tr><tr><td style="text-align:left;"><code>--list-tasks</code></td><td>列出所有将要执行的任务</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径（默认=无）</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名；使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>--skip-tags=SKIP_TAGS</code></td><td>只运行标签与这些值不匹配的播放和任务</td></tr><tr><td style="text-align:left;"><code>--start-at-task=START_AT_TASK</code></td><td>在匹配此名称的任务处启动剧本</td></tr><tr><td style="text-align:left;"><code>--step</code></td><td>一步一步：在运行前确认每个任务</td></tr><tr><td style="text-align:left;"><code>--syntax-check</code></td><td>对 playbook 执行语法检查，但不要执行它</td></tr><tr><td style="text-align:left;"><code>-t TAGS</code>, <code>--tags=TAGS</code></td><td>只运行带有这些值标记的播放和任务</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式（-vvv 更多，-vvvv 启用连接调试）</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><p>连接选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-k</code>, <code>--ask-pass</code></td><td>询问连接密码</td></tr><tr><td style="text-align:left;"><code>--private-key=PRIVATE_KEY_FILE</code>, <code>--key-file=PRIVATE_KEY_FILE</code></td><td>使用此文件来验证连接</td></tr><tr><td style="text-align:left;"><code>-u REMOTE_USER</code>, <code>--user=REMOTE_USER</code></td><td>以此用户身份连接(默认=None)</td></tr><tr><td style="text-align:left;"><code>-c CONNECTION</code>, <code>--connection=CONNECTION</code></td><td>要使用的连接类型(默认=smart)</td></tr><tr><td style="text-align:left;"><code>-T TIMEOUT</code>, <code>--timeout=TIMEOUT</code></td><td>以秒为单位覆盖连接超时(默认值 = 10)</td></tr><tr><td style="text-align:left;"><code>--ssh-common-args=SSH_COMMON_ARGS</code></td><td>指定要传递给 sftp/scp/ssh 的常用参数(例如 ProxyCommand)</td></tr><tr><td style="text-align:left;"><code>--sftp-extra-args=SFTP_EXTRA_ARGS</code></td><td>指定仅传递给 sftp 的额外参数(例如 -f、-l)</td></tr><tr><td style="text-align:left;"><code>--scp-extra-args=SCP_EXTRA_ARGS</code></td><td>指定仅传递给 scp 的额外参数(例如 -l)</td></tr><tr><td style="text-align:left;"><code>--ssh-extra-args=SSH_EXTRA_ARGS</code></td><td>指定仅传递给 ssh 的额外参数(例如 -R)</td></tr></tbody></table><p>特权升级选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-s</code>, <code>--sudo</code></td><td>使用 sudo (nopasswd) 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-U SUDO_USER</code>, <code>--sudo-user=SUDO_USER</code></td><td>所需的 sudo 用户(默认=root)(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>-S</code>, <code>--su</code></td><td>使用 su 运行操作(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-R SU_USER</code>, <code>--su-user=SU_USER</code></td><td>以该用户身份使用 su 运行操作(默认 = root)(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>-b</code>, <code>--become</code></td><td>使用 become 运行操作(不暗示密码提示)</td></tr><tr><td style="text-align:left;"><code>--become-method=BECOME_METHOD</code></td><td>要使用的权限提升方法(默认=sudo)，有效选择：[ sudo | su | pbrun | pfexec | runas | doas | dzdo ]</td></tr><tr><td style="text-align:left;"><code>--become-user=BECOME_USER</code></td><td>以该用户身份运行操作(默认=root)</td></tr><tr><td style="text-align:left;"><code>--ask-sudo-pass</code></td><td>询问 sudo 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>--ask-su-pass</code></td><td>询问 su 密码(已弃用，使用 become)</td></tr><tr><td style="text-align:left;"><code>-K</code>, <code>--ask-become-pass</code></td><td>要求提权密码</td></tr></tbody></table><h3 id="ansible-pull" tabindex="-1">ansible-pull <a class="header-anchor" href="#ansible-pull" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-pull</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ansible-pull</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-U</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">repositor</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><hr><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--accept-host-key</code></td><td>如果尚未添加，则添加 repo url 的主机密钥</td></tr><tr><td style="text-align:left;"><code>--ask-vault-pass</code></td><td>询问保险库密码</td></tr><tr><td style="text-align:left;"><code>-C CHECKOUT</code>, <code>--checkout=CHECKOUT</code></td><td>分支/标签/提交结帐。默认为存储库模块的行为。</td></tr><tr><td style="text-align:left;"><code>-d DEST</code>, <code>--directory=DEST</code></td><td>签出存储库的目录</td></tr><tr><td style="text-align:left;"><code>-e EXTRA_VARS</code>, <code>--extra-vars=EXTRA_VARS</code></td><td>将附加变量设置为 key=value 或 YAML/JSON</td></tr><tr><td style="text-align:left;"><code>-f</code>, <code>--force</code></td><td>即使无法更新存储库也运行 playbook</td></tr><tr><td style="text-align:left;"><code>--full</code></td><td>做一个完整的克隆，而不是一个浅的</td></tr><tr><td style="text-align:left;"><code>-h</code>, <code>--help</code></td><td>显示此帮助信息并退出</td></tr><tr><td style="text-align:left;"><code>-i INVENTORY</code>, <code>--inventory-file=INVENTORY</code></td><td>指定清单主机路径(默认=/etc/ansible/hosts)或逗号分隔的主机列表</td></tr><tr><td style="text-align:left;"><code>-l SUBSET</code>, <code>--limit=SUBSET</code></td><td>进一步将选定主机限制为其他模式</td></tr><tr><td style="text-align:left;"><code>--list-hosts</code></td><td>输出匹配主机列表；不执行任何其他操作</td></tr><tr><td style="text-align:left;"><code>-m MODULE_NAME</code>, <code>--module-name=MODULE_NAME</code></td><td>存储库模块名称，ansible 将使用它来签出 repo。默认是 git</td></tr><tr><td style="text-align:left;"><code>-M MODULE_PATH</code>, <code>--module-path=MODULE_PATH</code></td><td>指定模块库的路径(默认=无)</td></tr><tr><td style="text-align:left;"><code>--new-vault-password-file=NEW_VAULT_PASSWORD_FILE</code></td><td>用于重新生成密钥的新保管库密码文件</td></tr><tr><td style="text-align:left;"><code>-o</code>, <code>--only-if-changed</code></td><td>仅在存储库已更新时才运行 playbook</td></tr><tr><td style="text-align:left;"><code>--output=OUTPUT_FILE</code></td><td>用于加密或解密的输出文件名；使用 - 用于标准输出</td></tr><tr><td style="text-align:left;"><code>--purge</code></td><td>剧本运行后清除结帐</td></tr><tr><td style="text-align:left;"><code>--skip-tags=SKIP_TAGS</code></td><td>只运行标签与这些值不匹配的播放和任务</td></tr><tr><td style="text-align:left;"><code>-s SLEEP</code>, <code>--sleep=SLEEP</code></td><td>在开始之前休眠随机间隔(在 0 到 n 秒之间)。这是分散 git 请求的有用方法</td></tr><tr><td style="text-align:left;"><code>-t TAGS</code>, <code>--tags=TAGS</code></td><td>只运行带有这些值标记的播放和任务</td></tr><tr><td style="text-align:left;"><code>-U URL</code>, <code>--url=URL</code></td><td>剧本存储库的 URL</td></tr><tr><td style="text-align:left;"><code>--vault-password-file=VAULT_PASSWORD_FILE</code></td><td>保险库密码文件</td></tr><tr><td style="text-align:left;"><code>-v</code>, <code>--verbose</code></td><td>详细模式(-vvv 更多，-vvvv 启用连接调试)</td></tr><tr><td style="text-align:left;"><code>--verify-commit</code></td><td>验证签出提交的 GPG 签名，如果失败则中止运行 playbook。这就需要对应的VCS模块来支持这样的操作</td></tr><tr><td style="text-align:left;"><code>--version</code></td><td>显示程序的版本号并退出</td></tr></tbody></table><p>连接选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>-k</code>, <code>--ask-pass</code></td><td>询问连接密码</td></tr><tr><td style="text-align:left;"><code>--private-key=PRIVATE_KEY_FILE</code>, <code>--key-file=PRIVATE_KEY_FILE</code></td><td>使用此文件来验证连接</td></tr><tr><td style="text-align:left;"><code>-u REMOTE_USER</code>, <code>--user=REMOTE_USER</code></td><td>以此用户身份连接(默认=无)</td></tr><tr><td style="text-align:left;"><code>-c CONNECTION</code>, <code>--connection=CONNECTION</code></td><td>要使用的连接类型(默认=智能)</td></tr><tr><td style="text-align:left;"><code>-T TIMEOUT</code>, <code>--timeout=TIMEOUT</code></td><td>以秒为单位覆盖连接超时(默认值 = 10)</td></tr><tr><td style="text-align:left;"><code>--ssh-common-args=SSH_COMMON_ARGS</code></td><td>指定要传递给 sftp/scp/ssh 的常用参数(例如 ProxyCommand)</td></tr><tr><td style="text-align:left;"><code>--sftp-extra-args=SFTP_EXTRA_ARGS</code></td><td>指定仅传递给 sftp 的额外参数(例如 -f、-l)</td></tr><tr><td style="text-align:left;"><code>--scp-extra-args=SCP_EXTRA_ARGS</code></td><td>指定仅传递给 scp 的额外参数(例如 -l)</td></tr><tr><td style="text-align:left;"><code>--ssh-extra-args=SSH_EXTRA_ARGS</code></td><td>指定仅传递给 ssh 的额外参数(例如 -R)</td></tr></tbody></table><p>特权升级选项：</p><table><thead><tr><th style="text-align:left;">:-</th><th>-</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--ask-sudo-pass</code></td><td>询问 sudo 密码(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>--ask-su-pass</code></td><td>询问 su 密码(已弃用，使用become)</td></tr><tr><td style="text-align:left;"><code>-K</code>, <code>--ask-become-pass</code></td><td>要求提权密码</td></tr></tbody></table><h2 id="另见" tabindex="-1">另见 <a class="header-anchor" href="#另见" aria-hidden="true">#</a></h2><ul><li><a href="https://docs.ansible.com/ansible/latest/getting_started/index.html" target="_blank" rel="noreferrer">Getting started with Ansible</a></li><li><a href="https://docs.ansible.com/ansible/latest/user_guide/intro_adhoc.html" target="_blank" rel="noreferrer">Introduction to ad hoc commands</a></li><li><a href="https://github.com/luckylittle/ansible-cheatsheet/blob/master/ansible-cheatsheet.txt" target="_blank" rel="noreferrer">Ansible cheatsheet</a></li><li><a href="https://spacelift.io/blog/ansible-tutorial" target="_blank" rel="noreferrer">Ansible Tutorial for Beginners: Ultimate Playbook &amp; Examples</a></li></ul>`,81),n=[o];function d(c,p,r,i,y,C){return s(),e("div",null,n)}const h=t(a,[["render",d]]);export{A as __pageData,h as default};
